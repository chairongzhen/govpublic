{"version":3,"sources":["breadcrumb/Breadcrumb.jsx"],"names":["getBreadcrumbName","route","params","breadcrumbName","paramsKeys","Object","keys","join","name","replace","RegExp","replacement","key","defaultItemRender","routes","paths","isLastItem","indexOf","length","Breadcrumb","props","crumbs","separator","prefixCls","style","className","children","itemRender","map","path","forEach","push","React","Children","element","index","type","__ANT_BREADCRUMB_ITEM","Component","defaultProps","propTypes","PropTypes","string","node","array","object","linkRender","func","nameRender"],"mappings":"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","sourcesContent":["import React from 'react';\nimport PropTypes from 'prop-types';\nimport { cloneElement } from 'react';\nimport warning from '../_util/warning';\nimport BreadcrumbItem from './BreadcrumbItem';\nimport classNames from 'classnames';\nfunction getBreadcrumbName(route, params) {\n    if (!route.breadcrumbName) {\n        return null;\n    }\n    const paramsKeys = Object.keys(params).join('|');\n    const name = route.breadcrumbName.replace(new RegExp(`:(${paramsKeys})`, 'g'), (replacement, key) => params[key] || replacement);\n    return name;\n}\nfunction defaultItemRender(route, params, routes, paths) {\n    const isLastItem = routes.indexOf(route) === routes.length - 1;\n    const name = getBreadcrumbName(route, params);\n    return isLastItem\n        ? <span>{name}</span>\n        : <a href={`#/${paths.join('/')}`}>{name}</a>;\n}\nexport default class Breadcrumb extends React.Component {\n    componentDidMount() {\n        const props = this.props;\n        warning(!('linkRender' in props || 'nameRender' in props), '`linkRender` and `nameRender` are removed, please use `itemRender` instead, ' +\n            'see: https://u.ant.design/item-render.');\n    }\n    render() {\n        let crumbs;\n        const { separator, prefixCls, style, className, routes, params = {}, children, itemRender = defaultItemRender, } = this.props;\n        if (routes && routes.length > 0) {\n            const paths = [];\n            crumbs = routes.map((route) => {\n                route.path = route.path || '';\n                let path = route.path.replace(/^\\//, '');\n                Object.keys(params).forEach(key => {\n                    path = path.replace(`:${key}`, params[key]);\n                });\n                if (path) {\n                    paths.push(path);\n                }\n                return (<BreadcrumbItem separator={separator} key={route.breadcrumbName || path}>\n            {itemRender(route, params, routes, paths)}\n          </BreadcrumbItem>);\n            });\n        }\n        else if (children) {\n            crumbs = React.Children.map(children, (element, index) => {\n                if (!element) {\n                    return element;\n                }\n                warning(element.type && element.type.__ANT_BREADCRUMB_ITEM, 'Breadcrumb only accepts Breadcrumb.Item as it\\'s children');\n                return cloneElement(element, {\n                    separator,\n                    key: index,\n                });\n            });\n        }\n        return (<div className={classNames(className, prefixCls)} style={style}>\n        {crumbs}\n      </div>);\n    }\n}\nBreadcrumb.defaultProps = {\n    prefixCls: 'w-breadcrumb',\n    separator: '/',\n};\nBreadcrumb.propTypes = {\n    prefixCls: PropTypes.string,\n    separator: PropTypes.node,\n    routes: PropTypes.array,\n    params: PropTypes.object,\n    linkRender: PropTypes.func,\n    nameRender: PropTypes.func,\n};\n"],"file":"Breadcrumb.js"}