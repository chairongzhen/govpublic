{"version":3,"sources":["affix/index.jsx"],"names":["__decorate","decorators","target","key","desc","c","arguments","length","r","Object","getOwnPropertyDescriptor","d","Reflect","decorate","i","defineProperty","getTargetRect","window","getBoundingClientRect","top","left","bottom","getOffset","element","elemRect","targetRect","scrollTop","scrollLeft","docElem","document","body","clientTop","clientLeft","width","height","noop","getDefaultTarget","Affix","props","events","eventHandlers","state","affixStyle","placeholderStyle","e","onChange","originalAffixStyle","isWindow","type","setState","affixed","originalPlaceholderStyle","offsetTop","offsetBottom","offset","targetNode","affixNode","ReactDOM","findDOMNode","elemOffset","elemSize","refs","fixedNode","offsetWidth","offsetHeight","offsetMode","targetInnerHeight","innerHeight","clientHeight","setAffixStyle","position","setPlaceholderStyle","targetBottomOffet","timeout","setTimeout","setTargetEventListeners","nextProps","clearEventListeners","updatePosition","clearTimeout","cancel","getTarget","forEach","eventName","handler","remove","className","prefixCls","style","children","React","Component","propTypes","PropTypes","number","func","prototype"],"mappings":"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","sourcesContent":["var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport PropTypes from 'prop-types';\nimport addEventListener from 'rc-util/lib/Dom/addEventListener';\nimport classNames from 'classnames';\nimport shallowequal from 'shallowequal';\nimport omit from 'omit.js';\nimport getScroll from '../_util/getScroll';\nimport { throttleByAnimationFrameDecorator } from '../_util/throttleByAnimationFrame';\nfunction getTargetRect(target) {\n    return target !== window ?\n        target.getBoundingClientRect() :\n        { top: 0, left: 0, bottom: 0 };\n}\nfunction getOffset(element, target) {\n    const elemRect = element.getBoundingClientRect();\n    const targetRect = getTargetRect(target);\n    const scrollTop = getScroll(target, true);\n    const scrollLeft = getScroll(target, false);\n    const docElem = window.document.body;\n    const clientTop = docElem.clientTop || 0;\n    const clientLeft = docElem.clientLeft || 0;\n    return {\n        top: elemRect.top - targetRect.top +\n            scrollTop - clientTop,\n        left: elemRect.left - targetRect.left +\n            scrollLeft - clientLeft,\n        width: elemRect.width,\n        height: elemRect.height,\n    };\n}\nfunction noop() { }\nfunction getDefaultTarget() {\n    return typeof window !== 'undefined' ?\n        window : null;\n}\nexport default class Affix extends React.Component {\n    constructor(props) {\n        super(props);\n        this.events = [\n            'resize',\n            'scroll',\n            'touchstart',\n            'touchmove',\n            'touchend',\n            'pageshow',\n            'load',\n        ];\n        this.eventHandlers = {};\n        this.state = {\n            affixStyle: null,\n            placeholderStyle: null,\n        };\n    }\n    setAffixStyle(e, affixStyle) {\n        const { onChange = noop, target = getDefaultTarget } = this.props;\n        const originalAffixStyle = this.state.affixStyle;\n        const isWindow = target() === window;\n        if (e.type === 'scroll' && originalAffixStyle && affixStyle && isWindow) {\n            return;\n        }\n        if (shallowequal(affixStyle, originalAffixStyle)) {\n            return;\n        }\n        this.setState({ affixStyle }, () => {\n            const affixed = !!this.state.affixStyle;\n            if ((affixStyle && !originalAffixStyle) ||\n                (!affixStyle && originalAffixStyle)) {\n                onChange(affixed);\n            }\n        });\n    }\n    setPlaceholderStyle(placeholderStyle) {\n        const originalPlaceholderStyle = this.state.placeholderStyle;\n        if (shallowequal(placeholderStyle, originalPlaceholderStyle)) {\n            return;\n        }\n        this.setState({ placeholderStyle });\n    }\n    updatePosition(e) {\n        let { offsetTop, offsetBottom, offset, target = getDefaultTarget } = this.props;\n        const targetNode = target();\n        // Backwards support\n        offsetTop = offsetTop || offset;\n        const scrollTop = getScroll(targetNode, true);\n        const affixNode = ReactDOM.findDOMNode(this);\n        const elemOffset = getOffset(affixNode, targetNode);\n        const elemSize = {\n            width: this.refs.fixedNode.offsetWidth,\n            height: this.refs.fixedNode.offsetHeight,\n        };\n        const offsetMode = {\n            top: false,\n            bottom: false,\n        };\n        // Default to `offsetTop=0`.\n        if (typeof offsetTop !== 'number' && typeof offsetBottom !== 'number') {\n            offsetMode.top = true;\n            offsetTop = 0;\n        }\n        else {\n            offsetMode.top = typeof offsetTop === 'number';\n            offsetMode.bottom = typeof offsetBottom === 'number';\n        }\n        const targetRect = getTargetRect(targetNode);\n        const targetInnerHeight = targetNode.innerHeight || targetNode.clientHeight;\n        if (scrollTop > elemOffset.top - offsetTop && offsetMode.top) {\n            // Fixed Top\n            const width = elemOffset.width;\n            this.setAffixStyle(e, {\n                position: 'fixed',\n                top: targetRect.top + offsetTop,\n                left: targetRect.left + elemOffset.left,\n                width,\n            });\n            this.setPlaceholderStyle({\n                width,\n                height: affixNode.offsetHeight,\n            });\n        }\n        else if (scrollTop < elemOffset.top + elemSize.height + offsetBottom - targetInnerHeight &&\n            offsetMode.bottom) {\n            // Fixed Bottom\n            const targetBottomOffet = targetNode === window ? 0 : (window.innerHeight - targetRect.bottom);\n            const width = elemOffset.width;\n            this.setAffixStyle(e, {\n                position: 'fixed',\n                bottom: targetBottomOffet + offsetBottom,\n                left: targetRect.left + elemOffset.left,\n                width,\n            });\n            this.setPlaceholderStyle({\n                width,\n                height: affixNode.offsetHeight,\n            });\n        }\n        else {\n            const { affixStyle } = this.state;\n            if (e.type === 'resize' && affixStyle && affixStyle.position === 'fixed' && affixNode.offsetWidth) {\n                this.setAffixStyle(e, Object.assign(Object.assign({}, affixStyle), { width: affixNode.offsetWidth }));\n            }\n            else {\n                this.setAffixStyle(e, null);\n            }\n            this.setPlaceholderStyle(null);\n        }\n    }\n    componentDidMount() {\n        const target = this.props.target || getDefaultTarget;\n        // Wait for parent component ref has its value\n        this.timeout = window.setTimeout(() => {\n            this.setTargetEventListeners(target);\n        });\n    }\n    componentWillReceiveProps(nextProps) {\n        if (this.props.target !== nextProps.target) {\n            this.clearEventListeners();\n            this.setTargetEventListeners(nextProps.target);\n            // Mock Event object.\n            this.updatePosition({});\n        }\n    }\n    componentWillUnmount() {\n        this.clearEventListeners();\n        clearTimeout(this.timeout);\n        this.updatePosition.cancel();\n    }\n    setTargetEventListeners(getTarget) {\n        const target = getTarget();\n        if (!target) {\n            return;\n        }\n        this.clearEventListeners();\n        this.events.forEach(eventName => {\n            this.eventHandlers[eventName] = addEventListener(target, eventName, this.updatePosition);\n        });\n    }\n    clearEventListeners() {\n        this.events.forEach(eventName => {\n            const handler = this.eventHandlers[eventName];\n            if (handler && handler.remove) {\n                handler.remove();\n            }\n        });\n    }\n    render() {\n        const className = classNames({\n            [this.props.prefixCls || 'w-affix']: this.state.affixStyle,\n        });\n        const props = omit(this.props, ['prefixCls', 'offsetTop', 'offsetBottom', 'target', 'onChange']);\n        const placeholderStyle = Object.assign(Object.assign({}, this.state.placeholderStyle), this.props.style);\n        return (<div {...props} style={placeholderStyle}>\n        <div className={className} ref=\"fixedNode\" style={this.state.affixStyle}>\n          {this.props.children}\n        </div>\n      </div>);\n    }\n}\nAffix.propTypes = {\n    offsetTop: PropTypes.number,\n    offsetBottom: PropTypes.number,\n    target: PropTypes.func,\n};\n__decorate([\n    throttleByAnimationFrameDecorator()\n], Affix.prototype, \"updatePosition\", null);\n"],"file":"index.js"}