{"version":3,"sources":["_util/openAnimation.jsx"],"names":["reqAnimFrame","animate","node","show","done","height","requestAnimationFrameId","start","style","offsetHeight","opacity","active","end","animation","enter","leave","appear"],"mappings":";;;;;;;;;AAAA;;AACA;;;;;;;;AACA,IAAMA,YAAY,GAAG,2CAArB;;AACA,SAASC,OAAT,CAAiBC,IAAjB,EAAuBC,IAAvB,EAA6BC,IAA7B,EAAmC;AAC/B,MAAIC,MAAJ;AACA,MAAIC,uBAAJ;AACA,SAAO,8BAAaJ,IAAb,EAAmB,mBAAnB,EAAwC;AAC3CK,IAAAA,KAD2C,mBACnC;AACJ,UAAI,CAACJ,IAAL,EAAW;AACPD,QAAAA,IAAI,CAACM,KAAL,CAAWH,MAAX,aAAuBH,IAAI,CAACO,YAA5B;AACAP,QAAAA,IAAI,CAACM,KAAL,CAAWE,OAAX,GAAqB,CAArB;AACH,OAHD,MAIK;AACDL,QAAAA,MAAM,GAAGH,IAAI,CAACO,YAAd;AACAP,QAAAA,IAAI,CAACM,KAAL,CAAWH,MAAX,GAAoB,CAApB;AACAH,QAAAA,IAAI,CAACM,KAAL,CAAWE,OAAX,GAAqB,CAArB;AACH;AACJ,KAX0C;AAY3CC,IAAAA,MAZ2C,oBAYlC;AACL,UAAIL,uBAAJ,EAA6B;AACzB,mEAA4BA,uBAA5B;AACH;;AACDA,MAAAA,uBAAuB,GAAGN,YAAY,CAAC,YAAM;AACzCE,QAAAA,IAAI,CAACM,KAAL,CAAWH,MAAX,aAAuBF,IAAI,GAAGE,MAAH,GAAY,CAAvC;AACAH,QAAAA,IAAI,CAACM,KAAL,CAAWE,OAAX,GAAqBP,IAAI,GAAG,CAAH,GAAO,CAAhC;AACH,OAHqC,CAAtC;AAIH,KApB0C;AAqB3CS,IAAAA,GArB2C,iBAqBrC;AACF,UAAIN,uBAAJ,EAA6B;AACzB,mEAA4BA,uBAA5B;AACH;;AACDJ,MAAAA,IAAI,CAACM,KAAL,CAAWH,MAAX,GAAoB,EAApB;AACAH,MAAAA,IAAI,CAACM,KAAL,CAAWE,OAAX,GAAqB,EAArB;AACAN,MAAAA,IAAI;AACP;AA5B0C,GAAxC,CAAP;AA8BH;;AACD,IAAMS,SAAS,GAAG;AACdC,EAAAA,KADc,iBACRZ,IADQ,EACFE,IADE,EACI;AACd,WAAOH,OAAO,CAACC,IAAD,EAAO,IAAP,EAAaE,IAAb,CAAd;AACH,GAHa;AAIdW,EAAAA,KAJc,iBAIRb,IAJQ,EAIFE,IAJE,EAII;AACd,WAAOH,OAAO,CAACC,IAAD,EAAO,KAAP,EAAcE,IAAd,CAAd;AACH,GANa;AAOdY,EAAAA,MAPc,kBAOPd,IAPO,EAODE,IAPC,EAOK;AACf,WAAOH,OAAO,CAACC,IAAD,EAAO,IAAP,EAAaE,IAAb,CAAd;AACH;AATa,CAAlB;eAWeS,S","sourcesContent":["import cssAnimation from 'css-animation';\nimport getRequestAnimationFrame, { cancelRequestAnimationFrame } from './getRequestAnimationFrame';\nconst reqAnimFrame = getRequestAnimationFrame();\nfunction animate(node, show, done) {\n    let height;\n    let requestAnimationFrameId;\n    return cssAnimation(node, 'w-motion-collapse', {\n        start() {\n            if (!show) {\n                node.style.height = `${node.offsetHeight}px`;\n                node.style.opacity = 1;\n            }\n            else {\n                height = node.offsetHeight;\n                node.style.height = 0;\n                node.style.opacity = 0;\n            }\n        },\n        active() {\n            if (requestAnimationFrameId) {\n                cancelRequestAnimationFrame(requestAnimationFrameId);\n            }\n            requestAnimationFrameId = reqAnimFrame(() => {\n                node.style.height = `${show ? height : 0}px`;\n                node.style.opacity = show ? 1 : 0;\n            });\n        },\n        end() {\n            if (requestAnimationFrameId) {\n                cancelRequestAnimationFrame(requestAnimationFrameId);\n            }\n            node.style.height = '';\n            node.style.opacity = '';\n            done();\n        },\n    });\n}\nconst animation = {\n    enter(node, done) {\n        return animate(node, true, done);\n    },\n    leave(node, done) {\n        return animate(node, false, done);\n    },\n    appear(node, done) {\n        return animate(node, true, done);\n    },\n};\nexport default animation;\n"],"file":"openAnimation.js"}