{"version":3,"sources":["modal/confirm.jsx"],"names":["confirm","config","props","icon","prefixCls","div","document","createElement","body","appendChild","width","style","okType","maskClosable","undefined","okCancel","runtimeLocale","okText","justOkText","cancelText","close","unmountResult","ReactDOM","unmountComponentAtNode","parentNode","removeChild","args","triggerCancel","length","some","param","onCancel","title","content","footer","onOk","classString","type","className","render","bind","destroy"],"mappings":"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","sourcesContent":["import React from 'react';\nimport ReactDOM from 'react-dom';\nimport classNames from 'classnames';\nimport QuestionCircleF from '@wind/icons/lib/icons/QuestionCircleF';\nimport Modal from './Modal';\nimport ActionButton from './ActionButton';\nimport { getConfirmLocale } from './locale';\nexport default function confirm(config) {\n    const props = Object.assign({ icon: <QuestionCircleF /> }, config);\n    const prefixCls = props.prefixCls || 'w-confirm';\n    let div = document.createElement('div');\n    document.body.appendChild(div);\n    let width = props.width || 416;\n    let style = props.style || {};\n    let okType = props.okType || 'primary';\n    // 默认为 false，保持旧版默认行为\n    const maskClosable = props.maskClosable === undefined ? false : props.maskClosable;\n    // 默认为 true，保持向下兼容\n    if (!('okCancel' in props)) {\n        props.okCancel = true;\n    }\n    const runtimeLocale = getConfirmLocale();\n    props.okText = props.okText ||\n        (props.okCancel ? runtimeLocale.okText : runtimeLocale.justOkText);\n    props.cancelText = props.cancelText || runtimeLocale.cancelText;\n    function close(...args) {\n        const unmountResult = ReactDOM.unmountComponentAtNode(div);\n        if (unmountResult && div.parentNode) {\n            div.parentNode.removeChild(div);\n        }\n        const triggerCancel = args && args.length &&\n            args.some(param => param && param.triggerCancel);\n        if (props.onCancel && triggerCancel) {\n            props.onCancel(...args);\n        }\n    }\n    let body = (<div className={`${prefixCls}-body`}>\n      {props.icon} \n      <span className={`${prefixCls}-title`}>{props.title}</span>\n      <div className={`${prefixCls}-content`}>{props.content}</div>\n    </div>);\n    let footer = null;\n    if (props.okCancel) {\n        footer = (<div className={`${prefixCls}-btns`}>\n        <ActionButton actionFn={props.onCancel} closeModal={close}>\n          {props.cancelText}\n        </ActionButton>\n        <ActionButton type={okType} actionFn={props.onOk} closeModal={close} autoFocus>\n          {props.okText}\n        </ActionButton>\n      </div>);\n    }\n    else {\n        footer = (<div className={`${prefixCls}-btns`}>\n        <ActionButton type={okType} actionFn={props.onOk} closeModal={close} autoFocus>\n          {props.okText}\n        </ActionButton>\n      </div>);\n    }\n    const classString = classNames(prefixCls, {\n        [`${prefixCls}-${props.type}`]: true,\n    }, props.className);\n    ReactDOM.render(<Modal className={classString} onCancel={close.bind(this, { triggerCancel: true })} visible title=\"\" transitionName=\"zoom\" footer=\"\" maskTransitionName=\"fade\" maskClosable={maskClosable} style={style} width={width}>\n      <div className={`${prefixCls}-body-wrapper`}>\n        {body} {footer}\n      </div>\n    </Modal>, div);\n    return {\n        destroy: close,\n    };\n}\n"],"file":"confirm.js"}