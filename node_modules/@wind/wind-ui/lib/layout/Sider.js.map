{"version":3,"sources":["layout/Sider.jsx"],"names":["__rest","s","e","t","p","Object","prototype","hasOwnProperty","call","indexOf","getOwnPropertySymbols","i","length","propertyIsEnumerable","window","matchMediaPolyfill","mediaQuery","media","matches","addListener","removeListener","matchMedia","dimensionMap","xs","sm","md","lg","xl","generateId","prefix","Sider","props","responsiveHandler","mql","setState","below","state","collapsed","setCollapsed","type","onCollapse","toggle","belowShowChange","belowShow","uniqueId","breakpoint","defaultCollapsed","siderCollapsed","nextProps","context","siderHook","addSider","removeSider","_a","prefixCls","className","collapsible","reverseArrow","trigger","style","width","collapsedWidth","others","divProps","siderWidth","zeroWidthTrigger","zero","iconObj","expanded","status","defaultTrigger","triggerDom","divStyle","flex","maxWidth","minWidth","siderCls","children","React","Component","__ANT_LAYOUT_SIDER","defaultProps","childContextTypes","PropTypes","bool","contextTypes","object"],"mappings":"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","sourcesContent":["var __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\n// matchMedia polyfill for\n// https://github.com/WickyNilliams/enquire.js/issues/82\nif (typeof window !== 'undefined') {\n    const matchMediaPolyfill = (mediaQuery) => {\n        return {\n            media: mediaQuery,\n            matches: false,\n            addListener() {\n            },\n            removeListener() {\n            },\n        };\n    };\n    window.matchMedia = window.matchMedia || matchMediaPolyfill;\n}\nimport React from 'react';\nimport classNames from 'classnames';\nimport omit from 'omit.js';\nimport PropTypes from 'prop-types';\nimport SetUpO from '@wind/icons/lib/icons/SetUpO';\nimport LeftO from '@wind/icons/lib/icons/LeftO';\nimport RightO from '@wind/icons/lib/icons/RightO';\nconst dimensionMap = {\n    xs: '480px',\n    sm: '768px',\n    md: '992px',\n    lg: '1200px',\n    xl: '1600px',\n};\nconst generateId = (() => {\n    let i = 0;\n    return (prefix = '') => {\n        i += 1;\n        return `${prefix}${i}`;\n    };\n})();\nexport default class Sider extends React.Component {\n    constructor(props) {\n        super(props);\n        this.responsiveHandler = (mql) => {\n            this.setState({ below: mql.matches });\n            if (this.state.collapsed !== mql.matches) {\n                this.setCollapsed(mql.matches, 'responsive');\n            }\n        };\n        this.setCollapsed = (collapsed, type) => {\n            if (!('collapsed' in this.props)) {\n                this.setState({\n                    collapsed,\n                });\n            }\n            const { onCollapse } = this.props;\n            if (onCollapse) {\n                onCollapse(collapsed, type);\n            }\n        };\n        this.toggle = () => {\n            const collapsed = !this.state.collapsed;\n            this.setCollapsed(collapsed, 'clickTrigger');\n        };\n        this.belowShowChange = () => {\n            this.setState({ belowShow: !this.state.belowShow });\n        };\n        this.uniqueId = generateId('w-sider-');\n        let matchMedia;\n        if (typeof window !== 'undefined') {\n            matchMedia = window.matchMedia;\n        }\n        if (matchMedia && props.breakpoint && props.breakpoint in dimensionMap) {\n            this.mql = matchMedia(`(max-width: ${dimensionMap[props.breakpoint]})`);\n        }\n        let collapsed;\n        if ('collapsed' in props) {\n            collapsed = props.collapsed;\n        }\n        else {\n            collapsed = props.defaultCollapsed;\n        }\n        this.state = {\n            collapsed,\n            below: false,\n        };\n    }\n    getChildContext() {\n        return {\n            siderCollapsed: this.state.collapsed,\n        };\n    }\n    componentWillReceiveProps(nextProps) {\n        if ('collapsed' in nextProps) {\n            this.setState({\n                collapsed: nextProps.collapsed,\n            });\n        }\n    }\n    componentDidMount() {\n        if (this.mql) {\n            this.mql.addListener(this.responsiveHandler);\n            this.responsiveHandler(this.mql);\n        }\n        if (this.context.siderHook) {\n            this.context.siderHook.addSider(this.uniqueId);\n        }\n    }\n    componentWillUnmount() {\n        if (this.mql) {\n            this.mql.removeListener(this.responsiveHandler);\n        }\n        if (this.context.siderHook) {\n            this.context.siderHook.removeSider(this.uniqueId);\n        }\n    }\n    render() {\n        const _a = this.props, { prefixCls, className, collapsible, reverseArrow, trigger, style, width, collapsedWidth } = _a, others = __rest(_a, [\"prefixCls\", \"className\", \"collapsible\", \"reverseArrow\", \"trigger\", \"style\", \"width\", \"collapsedWidth\"]);\n        const divProps = omit(others, ['collapsed',\n            'defaultCollapsed', 'onCollapse', 'breakpoint']);\n        const siderWidth = this.state.collapsed ? collapsedWidth : width;\n        // special trigger when collapsedWidth == 0\n        const zeroWidthTrigger = collapsedWidth === 0 || collapsedWidth === '0' ? (<span onClick={this.toggle} className={`${prefixCls}-zero-width-trigger`}>\n        {(trigger && trigger.zero) ? trigger.zero : <SetUpO />}\n      </span>) : null;\n        const iconObj = {\n            'expanded': (trigger && trigger.expanded) ? trigger.expanded : (reverseArrow ? <RightO /> : <LeftO />),\n            'collapsed': (trigger && trigger.collapsed) ? trigger.collapsed : (reverseArrow ? <LeftO /> : <RightO />),\n        };\n        const status = this.state.collapsed ? 'collapsed' : 'expanded';\n        const defaultTrigger = iconObj[status];\n        const triggerDom = (trigger !== null ?\n            zeroWidthTrigger || (<div className={`${prefixCls}-trigger`} onClick={this.toggle} style={{ width: siderWidth }}>\n            {trigger || defaultTrigger}\n          </div>) : null);\n        const divStyle = Object.assign(Object.assign({}, style), { flex: `0 0 ${siderWidth}px`, maxWidth: `${siderWidth}px`, minWidth: `${siderWidth}px`, width: `${siderWidth}px` });\n        const siderCls = classNames(className, prefixCls, {\n            [`${prefixCls}-collapsed`]: !!this.state.collapsed,\n            [`${prefixCls}-has-trigger`]: !!trigger,\n            [`${prefixCls}-below`]: !!this.state.below,\n            [`${prefixCls}-zero-width`]: siderWidth === 0 || siderWidth === '0',\n        });\n        return (<div className={siderCls} {...divProps} style={divStyle}>\n        <div className={`${prefixCls}-children`}>{this.props.children}</div>\n        {collapsible || (this.state.below && zeroWidthTrigger) ? triggerDom : null}\n      </div>);\n    }\n}\nSider.__ANT_LAYOUT_SIDER = true;\nSider.defaultProps = {\n    prefixCls: 'w-layout-sider',\n    collapsible: false,\n    defaultCollapsed: false,\n    reverseArrow: false,\n    width: 208,\n    collapsedWidth: 64,\n    style: {},\n};\nSider.childContextTypes = {\n    siderCollapsed: PropTypes.bool,\n};\nSider.contextTypes = {\n    siderHook: PropTypes.object,\n};\n"],"file":"Sider.js"}