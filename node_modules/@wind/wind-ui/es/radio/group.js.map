{"version":3,"sources":["radio/group.jsx"],"names":["React","PropTypes","classNames","shallowEqual","Radio","getCheckedValue","children","value","matched","Children","forEach","radio","props","checked","undefined","RadioGroup","onRadioChange","ev","lastValue","state","target","setState","onChange","defaultValue","checkedValue","radioGroup","disabled","name","nextProps","nextState","prefixCls","className","classString","size","options","length","map","option","index","label","style","onMouseEnter","onMouseLeave","Component","defaultProps","childContextTypes","any"],"mappings":"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","sourcesContent":["import React from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport shallowEqual from 'shallowequal';\nimport Radio from './radio';\nfunction getCheckedValue(children) {\n    let value = null;\n    let matched = false;\n    React.Children.forEach(children, (radio) => {\n        if (radio && radio.props && radio.props.checked) {\n            value = radio.props.value;\n            matched = true;\n        }\n    });\n    return matched ? { value } : undefined;\n}\nexport default class RadioGroup extends React.Component {\n    constructor(props) {\n        super(props);\n        this.onRadioChange = (ev) => {\n            const lastValue = this.state.value;\n            const { value } = ev.target;\n            if (!('value' in this.props)) {\n                this.setState({\n                    value,\n                });\n            }\n            const onChange = this.props.onChange;\n            if (onChange && value !== lastValue) {\n                onChange(ev);\n            }\n        };\n        let value;\n        if ('value' in props) {\n            value = props.value;\n        }\n        else if ('defaultValue' in props) {\n            value = props.defaultValue;\n        }\n        else {\n            const checkedValue = getCheckedValue(props.children);\n            value = checkedValue && checkedValue.value;\n        }\n        this.state = {\n            value,\n        };\n    }\n    getChildContext() {\n        return {\n            radioGroup: {\n                onChange: this.onRadioChange,\n                value: this.state.value,\n                disabled: this.props.disabled,\n                name: this.props.name,\n            },\n        };\n    }\n    componentWillReceiveProps(nextProps) {\n        if ('value' in nextProps) {\n            this.setState({\n                value: nextProps.value,\n            });\n        }\n        else {\n            const checkedValue = getCheckedValue(nextProps.children);\n            if (checkedValue) {\n                this.setState({\n                    value: checkedValue.value,\n                });\n            }\n        }\n    }\n    shouldComponentUpdate(nextProps, nextState) {\n        return !shallowEqual(this.props, nextProps) ||\n            !shallowEqual(this.state, nextState);\n    }\n    render() {\n        const props = this.props;\n        const { prefixCls = 'w-radio-group', className = '' } = props;\n        const classString = classNames(prefixCls, {\n            [`${prefixCls}-${props.size}`]: props.size,\n        }, className);\n        let children = props.children;\n        // 如果存在 options, 优先使用\n        if (props.options && props.options.length > 0) {\n            children = props.options.map((option, index) => {\n                if (typeof option === 'string') { // 此处类型自动推导为 string\n                    return (<Radio key={index} disabled={this.props.disabled} value={option} onChange={this.onRadioChange} checked={this.state.value === option}>\n              {option}\n            </Radio>);\n                }\n                else { // 此处类型自动推导为 { label: string value: string }\n                    return (<Radio key={index} disabled={option.disabled || this.props.disabled} value={option.value} onChange={this.onRadioChange} checked={this.state.value === option.value}>\n              {option.label}\n            </Radio>);\n                }\n            });\n        }\n        return (<div className={classString} style={props.style} onMouseEnter={props.onMouseEnter} onMouseLeave={props.onMouseLeave}>\n        {children}\n      </div>);\n    }\n}\nRadioGroup.defaultProps = {\n    disabled: false,\n};\nRadioGroup.childContextTypes = {\n    radioGroup: PropTypes.any,\n};\n"],"file":"group.js"}