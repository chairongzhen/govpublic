{"version":3,"sources":["card/index.jsx"],"names":["__decorate","decorators","target","key","desc","c","arguments","length","r","Object","getOwnPropertyDescriptor","d","Reflect","decorate","i","defineProperty","__rest","s","e","t","p","prototype","hasOwnProperty","call","indexOf","getOwnPropertySymbols","propertyIsEnumerable","React","Component","Children","classNames","addEventListener","Grid","throttleByAnimationFrameDecorator","Card","state","widerPadding","saveRef","node","container","updateWiderPadding","resizeEvent","window","remove","cancel","WIDTH_BOUDARY_PX","offsetWidth","setState","updateWiderPaddingCalled","containGrid","forEach","props","children","element","type","_a","prefixCls","className","extra","bodyStyle","hoverable","selected","size","title","loading","bordered","shadowed","divider","others","classString","isContainGrid","dividerClass","width","head"],"mappings":"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","sourcesContent":["var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport React, { Component, Children } from 'react';\nimport classNames from 'classnames';\nimport addEventListener from 'rc-util/lib/Dom/addEventListener';\nimport Grid from './Grid';\nimport { throttleByAnimationFrameDecorator } from '../_util/throttleByAnimationFrame';\nexport default class Card extends Component {\n    constructor() {\n        super(...arguments);\n        this.state = {\n            widerPadding: false,\n        };\n        this.saveRef = (node) => {\n            this.container = node;\n        };\n    }\n    componentDidMount() {\n        this.updateWiderPadding();\n        this.resizeEvent = addEventListener(window, 'resize', this.updateWiderPadding);\n    }\n    componentWillUnmount() {\n        if (this.resizeEvent) {\n            this.resizeEvent.remove();\n        }\n        this.updateWiderPadding.cancel();\n    }\n    updateWiderPadding() {\n        if (!this.container) {\n            return;\n        }\n        // 936 is a magic card width pixer number indicated by designer\n        const WIDTH_BOUDARY_PX = 936;\n        if (this.container.offsetWidth >= WIDTH_BOUDARY_PX && !this.state.widerPadding) {\n            this.setState({ widerPadding: true }, () => {\n                this.updateWiderPaddingCalled = true; // first render without css transition\n            });\n        }\n        if (this.container.offsetWidth < WIDTH_BOUDARY_PX && this.state.widerPadding) {\n            this.setState({ widerPadding: false }, () => {\n                this.updateWiderPaddingCalled = true; // first render without css transition\n            });\n        }\n    }\n    isContainGrid() {\n        let containGrid;\n        Children.forEach(this.props.children, (element) => {\n            if (element && element.type && element.type === Grid) {\n                containGrid = true;\n            }\n        });\n        return containGrid;\n    }\n    render() {\n        const _a = this.props, { prefixCls = 'w-card', className, extra, bodyStyle, hoverable = false, selected = false, size = 'default', title, loading, bordered = false, shadowed = true, divider } = _a, others = __rest(_a, [\"prefixCls\", \"className\", \"extra\", \"bodyStyle\", \"hoverable\", \"selected\", \"size\", \"title\", \"loading\", \"bordered\", \"shadowed\", \"divider\"]);\n        let children = this.props.children;\n        const classString = classNames(prefixCls, className, {\n            [`${prefixCls}-loading`]: loading,\n            [`${prefixCls}-bordered`]: bordered,\n            [`${prefixCls}-hoverable`]: hoverable,\n            [`${prefixCls}-shadowed`]: shadowed,\n            [`${prefixCls}-wider-padding`]: this.state.widerPadding,\n            [`${prefixCls}-padding-transition`]: this.updateWiderPaddingCalled,\n            [`${prefixCls}-contain-grid`]: this.isContainGrid(),\n            [`${prefixCls}-selected`]: selected,\n            [`${prefixCls}-${size}`]: size != null && size !== 'default',\n        });\n        const dividerClass = classNames(`${prefixCls}-divider`, `${prefixCls}-divider-${divider || 'solid'}`);\n        if (loading) {\n            children = (<div className={`${prefixCls}-loading-content`}>\n          <p className={`${prefixCls}-loading-block`} style={{ width: '94%' }}/>\n          <p>\n            <span className={`${prefixCls}-loading-block`} style={{ width: '28%' }}/>\n            <span className={`${prefixCls}-loading-block`} style={{ width: '62%' }}/>\n          </p>\n          <p>\n            <span className={`${prefixCls}-loading-block`} style={{ width: '22%' }}/>\n            <span className={`${prefixCls}-loading-block`} style={{ width: '66%' }}/>\n          </p>\n          <p>\n            <span className={`${prefixCls}-loading-block`} style={{ width: '56%' }}/>\n            <span className={`${prefixCls}-loading-block`} style={{ width: '39%' }}/>\n          </p>\n          <p>\n            <span className={`${prefixCls}-loading-block`} style={{ width: '21%' }}/>\n            <span className={`${prefixCls}-loading-block`} style={{ width: '15%' }}/>\n            <span className={`${prefixCls}-loading-block`} style={{ width: '40%' }}/>\n          </p>\n        </div>);\n        }\n        let head;\n        if (title || extra) {\n            head = (<div className={`${prefixCls}-head`}>\n          {title ? <div className={`${prefixCls}-head-title`}>{title}</div> : null}\n          {extra ? <div className={`${prefixCls}-extra`}>{extra}</div> : null}\n        </div>);\n        }\n        return (<div {...others} className={classNames(classString, head ? '' : `${prefixCls}-no-title`)} ref={this.saveRef}>\n        {head}\n        {head ? <div className={dividerClass}></div> : null}\n        <div className={`${prefixCls}-body`} style={bodyStyle}>{children}</div>\n      </div>);\n    }\n}\nCard.Grid = Grid;\n__decorate([\n    throttleByAnimationFrameDecorator()\n], Card.prototype, \"updateWiderPadding\", null);\n"],"file":"index.js"}