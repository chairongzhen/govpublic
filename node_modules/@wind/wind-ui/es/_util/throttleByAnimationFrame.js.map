{"version":3,"sources":["_util/throttleByAnimationFrame.jsx"],"names":["getRequestAnimationFrame","cancelRequestAnimationFrame","reqAnimFrame","throttleByAnimationFrame","fn","requestId","later","args","throttled","cancel","throttleByAnimationFrameDecorator","target","key","descriptor","value","definingProperty","configurable","get","prototype","hasOwnProperty","boundFn","bind","Object","defineProperty","writable"],"mappings":";;;;;;;;;;;;AAAA,OAAOA,wBAAP,IAAmCC,2BAAnC,QAAsE,mCAAtE;AACA,IAAMC,YAAY,GAAGF,wBAAwB,EAA7C;AACA,eAAe,SAASG,wBAAT,CAAkCC,EAAlC,EAAsC;AACjD,MAAIC,SAAJ;;AACA,MAAMC,KAAK,GAAG,SAARA,KAAQ,CAAAC,IAAI;AAAA,WAAI,YAAM;AACxBF,MAAAA,SAAS,GAAG,IAAZ;AACAD,MAAAA,EAAE,MAAF,4BAAMG,IAAN;AACH,KAHiB;AAAA,GAAlB;;AAIA,MAAMC,SAAS,GAAG,SAAZA,SAAY,GAAa;AAC3B,QAAIH,SAAS,IAAI,IAAjB,EAAuB;AAAA,wCADLE,IACK;AADLA,QAAAA,IACK;AAAA;;AACnBF,MAAAA,SAAS,GAAGH,YAAY,CAACI,KAAK,CAACC,IAAD,CAAN,CAAxB;AACH;AACJ,GAJD;;AAKAC,EAAAA,SAAS,CAACC,MAAV,GAAmB;AAAA,WAAMR,2BAA2B,CAACI,SAAD,CAAjC;AAAA,GAAnB;;AACA,SAAOG,SAAP;AACH;AACD,OAAO,SAASE,iCAAT,GAA6C;AAChD,SAAO,UAAUC,MAAV,EAAkBC,GAAlB,EAAuBC,UAAvB,EAAmC;AACtC,QAAIT,EAAE,GAAGS,UAAU,CAACC,KAApB;AACA,QAAIC,gBAAgB,GAAG,KAAvB;AACA,WAAO;AACHC,MAAAA,YAAY,EAAE,IADX;AAEHC,MAAAA,GAFG,iBAEG;AACF,YAAIF,gBAAgB,IAAI,SAASJ,MAAM,CAACO,SAApC,IAAiD,KAAKC,cAAL,CAAoBP,GAApB,CAArD,EAA+E;AAC3E,iBAAOR,EAAP;AACH;;AACD,YAAIgB,OAAO,GAAGjB,wBAAwB,CAACC,EAAE,CAACiB,IAAH,CAAQ,IAAR,CAAD,CAAtC;AACAN,QAAAA,gBAAgB,GAAG,IAAnB;AACAO,QAAAA,MAAM,CAACC,cAAP,CAAsB,IAAtB,EAA4BX,GAA5B,EAAiC;AAC7BE,UAAAA,KAAK,EAAEM,OADsB;AAE7BJ,UAAAA,YAAY,EAAE,IAFe;AAG7BQ,UAAAA,QAAQ,EAAE;AAHmB,SAAjC;AAKAT,QAAAA,gBAAgB,GAAG,KAAnB;AACA,eAAOK,OAAP;AACH;AAfE,KAAP;AAiBH,GApBD;AAqBH","sourcesContent":["import getRequestAnimationFrame, { cancelRequestAnimationFrame } from '../_util/getRequestAnimationFrame';\nconst reqAnimFrame = getRequestAnimationFrame();\nexport default function throttleByAnimationFrame(fn) {\n    let requestId;\n    const later = args => () => {\n        requestId = null;\n        fn(...args);\n    };\n    const throttled = (...args) => {\n        if (requestId == null) {\n            requestId = reqAnimFrame(later(args));\n        }\n    };\n    throttled.cancel = () => cancelRequestAnimationFrame(requestId);\n    return throttled;\n}\nexport function throttleByAnimationFrameDecorator() {\n    return function (target, key, descriptor) {\n        let fn = descriptor.value;\n        let definingProperty = false;\n        return {\n            configurable: true,\n            get() {\n                if (definingProperty || this === target.prototype || this.hasOwnProperty(key)) {\n                    return fn;\n                }\n                let boundFn = throttleByAnimationFrame(fn.bind(this));\n                definingProperty = true;\n                Object.defineProperty(this, key, {\n                    value: boundFn,\n                    configurable: true,\n                    writable: true,\n                });\n                definingProperty = false;\n                return boundFn;\n            },\n        };\n    };\n}\n"],"file":"throttleByAnimationFrame.js"}