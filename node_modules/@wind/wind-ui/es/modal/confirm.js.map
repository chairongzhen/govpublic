{"version":3,"sources":["modal/confirm.jsx"],"names":["React","ReactDOM","classNames","QuestionCircleF","Modal","ActionButton","getConfirmLocale","confirm","config","props","icon","prefixCls","div","document","createElement","body","appendChild","width","style","okType","maskClosable","undefined","okCancel","runtimeLocale","okText","justOkText","cancelText","close","unmountResult","unmountComponentAtNode","parentNode","removeChild","args","triggerCancel","length","some","param","onCancel","title","content","footer","onOk","classString","type","className","render","bind","destroy"],"mappings":"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","sourcesContent":["import React from 'react';\nimport ReactDOM from 'react-dom';\nimport classNames from 'classnames';\nimport QuestionCircleF from '@wind/icons/lib/icons/QuestionCircleF';\nimport Modal from './Modal';\nimport ActionButton from './ActionButton';\nimport { getConfirmLocale } from './locale';\nexport default function confirm(config) {\n    const props = Object.assign({ icon: <QuestionCircleF /> }, config);\n    const prefixCls = props.prefixCls || 'w-confirm';\n    let div = document.createElement('div');\n    document.body.appendChild(div);\n    let width = props.width || 416;\n    let style = props.style || {};\n    let okType = props.okType || 'primary';\n    // 默认为 false，保持旧版默认行为\n    const maskClosable = props.maskClosable === undefined ? false : props.maskClosable;\n    // 默认为 true，保持向下兼容\n    if (!('okCancel' in props)) {\n        props.okCancel = true;\n    }\n    const runtimeLocale = getConfirmLocale();\n    props.okText = props.okText ||\n        (props.okCancel ? runtimeLocale.okText : runtimeLocale.justOkText);\n    props.cancelText = props.cancelText || runtimeLocale.cancelText;\n    function close(...args) {\n        const unmountResult = ReactDOM.unmountComponentAtNode(div);\n        if (unmountResult && div.parentNode) {\n            div.parentNode.removeChild(div);\n        }\n        const triggerCancel = args && args.length &&\n            args.some(param => param && param.triggerCancel);\n        if (props.onCancel && triggerCancel) {\n            props.onCancel(...args);\n        }\n    }\n    let body = (<div className={`${prefixCls}-body`}>\n      {props.icon} \n      <span className={`${prefixCls}-title`}>{props.title}</span>\n      <div className={`${prefixCls}-content`}>{props.content}</div>\n    </div>);\n    let footer = null;\n    if (props.okCancel) {\n        footer = (<div className={`${prefixCls}-btns`}>\n        <ActionButton actionFn={props.onCancel} closeModal={close}>\n          {props.cancelText}\n        </ActionButton>\n        <ActionButton type={okType} actionFn={props.onOk} closeModal={close} autoFocus>\n          {props.okText}\n        </ActionButton>\n      </div>);\n    }\n    else {\n        footer = (<div className={`${prefixCls}-btns`}>\n        <ActionButton type={okType} actionFn={props.onOk} closeModal={close} autoFocus>\n          {props.okText}\n        </ActionButton>\n      </div>);\n    }\n    const classString = classNames(prefixCls, {\n        [`${prefixCls}-${props.type}`]: true,\n    }, props.className);\n    ReactDOM.render(<Modal className={classString} onCancel={close.bind(this, { triggerCancel: true })} visible title=\"\" transitionName=\"zoom\" footer=\"\" maskTransitionName=\"fade\" maskClosable={maskClosable} style={style} width={width}>\n      <div className={`${prefixCls}-body-wrapper`}>\n        {body} {footer}\n      </div>\n    </Modal>, div);\n    return {\n        destroy: close,\n    };\n}\n"],"file":"confirm.js"}