{"version":3,"sources":["form/Form.jsx"],"names":["React","PropTypes","classNames","createDOMForm","PureRenderMixin","omit","createReactClass","warning","FormItem","FIELD_META_PROP","Form","props","form","args","shouldComponentUpdate","apply","layout","vertical","prefixCls","hideRequiredMark","className","inline","horizontal","formClassName","formProps","Component","defaultProps","onSubmit","e","preventDefault","propTypes","string","oneOf","children","any","func","bool","childContextTypes","Item","create","options","formWrapper","fieldNameProp","fieldMetaProp","object","isRequired","getChildContext","componentWillMount","__getFieldProps","getFieldProps","deprecatedGetFieldProps","name","option","render","withRef","ref","wrappedComponentRef"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,SAAP,MAAsB,YAAtB;AACA,OAAOC,UAAP,MAAuB,YAAvB;AACA,OAAOC,aAAP,MAA0B,0BAA1B;AACA,OAAOC,eAAP,MAA4B,4BAA5B;AACA,OAAOC,IAAP,MAAiB,SAAjB;AACA,OAAOC,gBAAP,MAA6B,oBAA7B;AACA,OAAOC,OAAP,MAAoB,kBAApB;AACA,OAAOC,QAAP,MAAqB,YAArB;AACA,SAASC,eAAT,QAAgC,aAAhC;;IACqBC,I;;;;;AACjB,gBAAYC,KAAZ,EAAmB;AAAA;;AAAA;;AACf,8BAAMA,KAAN;AACAJ,IAAAA,OAAO,CAAC,CAACI,KAAK,CAACC,IAAR,EAAc,8DAAd,CAAP;AAFe;AAGlB;;;;4CAC8B;AAAA,wCAANC,IAAM;AAANA,QAAAA,IAAM;AAAA;;AAC3B,aAAOT,eAAe,CAACU,qBAAhB,CAAsCC,KAAtC,CAA4C,IAA5C,EAAkDF,IAAlD,CAAP;AACH;;;sCACiB;AAAA,wBACe,KAAKF,KADpB;AAAA,UACNK,MADM,eACNA,MADM;AAAA,UACEC,QADF,eACEA,QADF;AAEd,aAAO;AACHA,QAAAA,QAAQ,EAAED,MAAM,KAAK,UAAX,IAAyBC;AADhC,OAAP;AAGH;;;6BACQ;AAAA;;AAAA,yBAG6B,KAAKN,KAHlC;AAAA,UACGO,SADH,gBACGA,SADH;AAAA,UACcC,gBADd,gBACcA,gBADd;AAAA,+CACgCC,SADhC;AAAA,UACgCA,SADhC,sCAC4C,EAD5C;AAAA,UACgDJ,MADhD,gBACgDA,MADhD;AAAA,UAGLK,MAHK,gBAGLA,MAHK;AAAA,UAGGC,UAHH,gBAGGA,UAHH;AAAA,UAGeL,QAHf,gBAGeA,QAHf;AAILV,MAAAA,OAAO,CAAC,CAACc,MAAD,IAAW,CAACC,UAAZ,IAA0B,CAACL,QAA5B,EAAsC,sFAAtC,CAAP;AACA,UAAMM,aAAa,GAAGrB,UAAU,CAACgB,SAAD,4DACxBA,SADwB,kBACE,CAACG,MAAD,IAAW,CAACJ,QAAZ,IAAwBD,MAAM,KAAK,YAApC,IAAqDM,UADtD,0CAExBJ,SAFwB,gBAEDF,MAAM,KAAK,UAAX,IAAyBC,QAFxB,0CAGxBC,SAHwB,cAGHF,MAAM,KAAK,QAAX,IAAuBK,MAHpB,0CAIxBH,SAJwB,0BAISC,gBAJT,iBAK7BC,SAL6B,CAAhC;AAMA,UAAMI,SAAS,GAAGnB,IAAI,CAAC,KAAKM,KAAN,EAAa,CAC/B,WAD+B,EAE/B,WAF+B,EAG/B,QAH+B,EAI/B,QAJ+B,EAK/B,YAL+B,EAM/B,UAN+B,EAO/B,MAP+B,EAQ/B,kBAR+B,CAAb,CAAtB;AAUA,0BAAO,yCAAUa,SAAV;AAAqB,QAAA,SAAS,EAAED;AAAhC,SAAP;AACH;;;;EApC6BvB,KAAK,CAACyB,S;;SAAnBf,I;AAsCrBA,IAAI,CAACgB,YAAL,GAAoB;AAChBR,EAAAA,SAAS,EAAE,QADK;AAEhBF,EAAAA,MAAM,EAAE,YAFQ;AAGhBG,EAAAA,gBAAgB,EAAE,KAHF;AAIhBQ,EAAAA,QAJgB,oBAIPC,CAJO,EAIJ;AACRA,IAAAA,CAAC,CAACC,cAAF;AACH;AANe,CAApB;AAQAnB,IAAI,CAACoB,SAAL,GAAiB;AACbZ,EAAAA,SAAS,EAAEjB,SAAS,CAAC8B,MADR;AAEbf,EAAAA,MAAM,EAAEf,SAAS,CAAC+B,KAAV,CAAgB,CAAC,YAAD,EAAe,QAAf,EAAyB,UAAzB,CAAhB,CAFK;AAGbC,EAAAA,QAAQ,EAAEhC,SAAS,CAACiC,GAHP;AAIbP,EAAAA,QAAQ,EAAE1B,SAAS,CAACkC,IAJP;AAKbhB,EAAAA,gBAAgB,EAAElB,SAAS,CAACmC;AALf,CAAjB;AAOA1B,IAAI,CAAC2B,iBAAL,GAAyB;AACrBpB,EAAAA,QAAQ,EAAEhB,SAAS,CAACmC;AADC,CAAzB;AAGA1B,IAAI,CAAC4B,IAAL,GAAY9B,QAAZ;;AACAE,IAAI,CAAC6B,MAAL,GAAc,YAAwB;AAAA,MAAdC,OAAc,uEAAJ,EAAI;AAClC,MAAMC,WAAW,GAAGtC,aAAa,CAAC,SAAc,SAAc;AAAEuC,IAAAA,aAAa,EAAE;AAAjB,GAAd,EAAuCF,OAAvC,CAAd,EAA+D;AAAEG,IAAAA,aAAa,EAAElC;AAAjB,GAA/D,CAAD,CAAjC;AACA;;AACA,SAAO,UAACgB,SAAD;AAAA,WAAegB,WAAW,CAACnC,gBAAgB,CAAC;AAC/CwB,MAAAA,SAAS,EAAE;AACPlB,QAAAA,IAAI,EAAEX,SAAS,CAAC2C,MAAV,CAAiBC;AADhB,OADoC;AAI/CR,MAAAA,iBAAiB,EAAE;AACfzB,QAAAA,IAAI,EAAEX,SAAS,CAAC2C,MAAV,CAAiBC;AADR,OAJ4B;AAO/CC,MAAAA,eAP+C,6BAO7B;AACd,eAAO;AACHlC,UAAAA,IAAI,EAAE,KAAKD,KAAL,CAAWC;AADd,SAAP;AAGH,OAX8C;AAY/CmC,MAAAA,kBAZ+C,gCAY1B;AACjB,aAAKC,eAAL,GAAuB,KAAKrC,KAAL,CAAWC,IAAX,CAAgBqC,aAAvC;AACH,OAd8C;AAe/CC,MAAAA,uBAf+C,mCAevBC,IAfuB,EAejBC,MAfiB,EAeT;AAClC7C,QAAAA,OAAO,CAAC,KAAD,EAAQ,iFACX,+CADG,CAAP;AAEA,eAAO,KAAKyC,eAAL,CAAqBG,IAArB,EAA2BC,MAA3B,CAAP;AACH,OAnB8C;AAoB/CC,MAAAA,MApB+C,oBAoBtC;AACL,aAAK1C,KAAL,CAAWC,IAAX,CAAgBqC,aAAhB,GAAgC,KAAKC,uBAArC;AACA,YAAMI,OAAO,GAAG,EAAhB;;AACA,YAAId,OAAO,CAACc,OAAZ,EAAqB;AACjBA,UAAAA,OAAO,CAACC,GAAR,GAAc,sBAAd;AACH,SAFD,MAGK,IAAI,KAAK5C,KAAL,CAAW6C,mBAAf,EAAoC;AACrCF,UAAAA,OAAO,CAACC,GAAR,GAAc,KAAK5C,KAAL,CAAW6C,mBAAzB;AACH;;AACD,4BAAO,oBAAC,SAAD,eAAe,KAAK7C,KAApB,EAA+B2C,OAA/B,EAAP;AACH;AA9B8C,KAAD,CAAjB,CAA1B;AAAA,GAAP;AAgCH,CAnCD","sourcesContent":["import React from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport createDOMForm from 'rc-form/lib/createDOMForm';\nimport PureRenderMixin from 'rc-util/lib/PureRenderMixin';\nimport omit from 'omit.js';\nimport createReactClass from 'create-react-class';\nimport warning from '../_util/warning';\nimport FormItem from './FormItem';\nimport { FIELD_META_PROP } from './constants';\nexport default class Form extends React.Component {\n    constructor(props) {\n        super(props);\n        warning(!props.form, 'It is unnecessary to pass `form` to `Form` after antd@1.7.0.');\n    }\n    shouldComponentUpdate(...args) {\n        return PureRenderMixin.shouldComponentUpdate.apply(this, args);\n    }\n    getChildContext() {\n        const { layout, vertical } = this.props;\n        return {\n            vertical: layout === 'vertical' || vertical,\n        };\n    }\n    render() {\n        const { prefixCls, hideRequiredMark, className = '', layout, \n        // @deprecated\n        inline, horizontal, vertical, } = this.props;\n        warning(!inline && !horizontal && !vertical, '`Form[inline|horizontal|vertical]` is deprecated, please use `Form[layout]` instead.');\n        const formClassName = classNames(prefixCls, {\n            [`${prefixCls}-horizontal`]: (!inline && !vertical && layout === 'horizontal') || horizontal,\n            [`${prefixCls}-vertical`]: layout === 'vertical' || vertical,\n            [`${prefixCls}-inline`]: layout === 'inline' || inline,\n            [`${prefixCls}-hide-required-mark`]: hideRequiredMark,\n        }, className);\n        const formProps = omit(this.props, [\n            'prefixCls',\n            'className',\n            'layout',\n            'inline',\n            'horizontal',\n            'vertical',\n            'form',\n            'hideRequiredMark',\n        ]);\n        return <form {...formProps} className={formClassName}/>;\n    }\n}\nForm.defaultProps = {\n    prefixCls: 'w-form',\n    layout: 'horizontal',\n    hideRequiredMark: false,\n    onSubmit(e) {\n        e.preventDefault();\n    },\n};\nForm.propTypes = {\n    prefixCls: PropTypes.string,\n    layout: PropTypes.oneOf(['horizontal', 'inline', 'vertical']),\n    children: PropTypes.any,\n    onSubmit: PropTypes.func,\n    hideRequiredMark: PropTypes.bool,\n};\nForm.childContextTypes = {\n    vertical: PropTypes.bool,\n};\nForm.Item = FormItem;\nForm.create = function (options = {}) {\n    const formWrapper = createDOMForm(Object.assign(Object.assign({ fieldNameProp: 'id' }, options), { fieldMetaProp: FIELD_META_PROP }));\n    /* eslint-disable react/prefer-es6-class */\n    return (Component) => formWrapper(createReactClass({\n        propTypes: {\n            form: PropTypes.object.isRequired,\n        },\n        childContextTypes: {\n            form: PropTypes.object.isRequired,\n        },\n        getChildContext() {\n            return {\n                form: this.props.form,\n            };\n        },\n        componentWillMount() {\n            this.__getFieldProps = this.props.form.getFieldProps;\n        },\n        deprecatedGetFieldProps(name, option) {\n            warning(false, '`getFieldProps` is not recommended, please use `getFieldDecorator` instead, ' +\n                'see: https://u.ant.design/get-field-decorator');\n            return this.__getFieldProps(name, option);\n        },\n        render() {\n            this.props.form.getFieldProps = this.deprecatedGetFieldProps;\n            const withRef = {};\n            if (options.withRef) {\n                withRef.ref = 'formWrappedComponent';\n            }\n            else if (this.props.wrappedComponentRef) {\n                withRef.ref = this.props.wrappedComponentRef;\n            }\n            return <Component {...this.props} {...withRef}/>;\n        },\n    }));\n};\n"],"file":"Form.js"}