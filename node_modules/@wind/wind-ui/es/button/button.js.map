{"version":3,"sources":["button/button.jsx"],"names":["__rest","s","e","t","p","Object","prototype","hasOwnProperty","call","indexOf","getOwnPropertySymbols","i","length","propertyIsEnumerable","React","PropTypes","classNames","omit","LoadingO","dealChild","child","Button","props","handleClick","setState","clicked","clearTimeout","timeout","window","setTimeout","onClick","state","loading","nextProps","currentLoading","delayTimeout","delay","_a","type","shape","size","className","htmlType","children","icon","prefixCls","ghost","theme","color","others","sizeCls","classes","iconNode","kids","Children","map","Component","__ANT_BUTTON","defaultProps","propTypes","string","oneOf","func","oneOfType","bool","object","node"],"mappings":"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","sourcesContent":["var __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport omit from 'omit.js';\nimport LoadingO from '@wind/icons/lib/icons/LoadingO';\n// const rxTwoCNChar = /^[\\u4e00-\\u9fa5]{2}$/;\n// const isTwoCNChar = rxTwoCNChar.test.bind(rxTwoCNChar);\n// function isString(str: any) {\n//   return typeof str === 'string';\n// }\n// Insert one space between two chinese characters automatically.\n// function insertSpace(child: React.ReactChild, needInserted: boolean) {\n//   // Check the child if is undefined or null.\n//   if (child == null) {\n//     return;\n//   }\n//   const SPACE = needInserted ? ' ' : '';\n//   // strictNullChecks oops.\n//   if (typeof child !== 'string' && typeof child !== 'number' &&\n//     isString(child.type) && isTwoCNChar(child.props.children)) {\n//     return React.cloneElement(child, {},\n//       child.props.children.split('').join(SPACE));\n//   }\n//   if (typeof child === 'string') {\n//     if (isTwoCNChar(child)) {\n//       child = child.split('').join(SPACE);\n//     }\n//     return <span>{child}</span>;\n//   }\n//   return child;\n// }\nfunction dealChild(child) {\n    if (typeof child === 'string') {\n        return <span>{child}</span>;\n    }\n    return child;\n}\nexport default class Button extends React.Component {\n    constructor(props) {\n        super(props);\n        this.handleClick = (e) => {\n            // Add click effect\n            this.setState({ clicked: true });\n            clearTimeout(this.timeout);\n            this.timeout = window.setTimeout(() => this.setState({ clicked: false }), 500);\n            const onClick = this.props.onClick;\n            if (onClick) {\n                onClick(e);\n            }\n        };\n        this.state = {\n            loading: props.loading,\n        };\n    }\n    componentWillReceiveProps(nextProps) {\n        const currentLoading = this.props.loading;\n        const loading = nextProps.loading;\n        if (currentLoading) {\n            clearTimeout(this.delayTimeout);\n        }\n        if (typeof loading !== 'boolean' && loading && loading.delay) {\n            this.delayTimeout = window.setTimeout(() => this.setState({ loading }), loading.delay);\n        }\n        else {\n            this.setState({ loading });\n        }\n    }\n    componentWillUnmount() {\n        if (this.timeout) {\n            clearTimeout(this.timeout);\n        }\n        if (this.delayTimeout) {\n            clearTimeout(this.delayTimeout);\n        }\n    }\n    render() {\n        const _a = this.props, { type, shape, size = '', className, htmlType, children, icon, prefixCls, ghost, theme, color } = _a, others = __rest(_a, [\"type\", \"shape\", \"size\", \"className\", \"htmlType\", \"children\", \"icon\", \"prefixCls\", \"ghost\", \"theme\", \"color\"]);\n        const { loading, clicked } = this.state;\n        // large => lg\n        // small => sm\n        let sizeCls = '';\n        switch (size) {\n            case 'large':\n                sizeCls = 'lg';\n                break;\n            case 'small':\n                sizeCls = 'sm';\n            default:\n                break;\n        }\n        const classes = classNames(prefixCls, className, {\n            [`${prefixCls}-${type}`]: type,\n            [`${prefixCls}-${shape}`]: shape,\n            [`${prefixCls}-${sizeCls}`]: sizeCls,\n            [`${prefixCls}-icon-only`]: !children && icon && !loading,\n            [`${prefixCls}-loading`]: loading,\n            [`${prefixCls}-clicked`]: clicked,\n            [`${prefixCls}-background-ghost`]: ghost,\n            [`${prefixCls}-${theme}`]: theme,\n        });\n        const iconNode = loading ? <LoadingO /> : icon;\n        // 取消自动加空功能\n        // const needInserted = React.Children.count(children) === 1 && (!iconType || iconType === 'loading');\n        const kids = React.Children.map(children, child => dealChild(child));\n        return (<button {...omit(others, ['loading', 'clicked'])} type={htmlType || 'button'} className={classes} onClick={this.handleClick}>\n        {iconNode}{kids}\n      </button>);\n    }\n}\nButton.__ANT_BUTTON = true;\nButton.defaultProps = {\n    prefixCls: 'w-btn',\n    loading: false,\n    clicked: false,\n    ghost: false,\n};\nButton.propTypes = {\n    type: PropTypes.string,\n    shape: PropTypes.oneOf(['circle', 'circle-outline']),\n    size: PropTypes.oneOf(['large', 'default', 'small']),\n    htmlType: PropTypes.oneOf(['submit', 'button', 'reset']),\n    onClick: PropTypes.func,\n    loading: PropTypes.oneOfType([PropTypes.bool, PropTypes.object]),\n    className: PropTypes.string,\n    icon: PropTypes.node,\n};\n"],"file":"button.js"}