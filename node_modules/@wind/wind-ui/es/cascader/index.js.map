{"version":3,"sources":["cascader/index.jsx"],"names":["__rest","s","e","t","p","Object","prototype","hasOwnProperty","call","indexOf","getOwnPropertySymbols","i","length","propertyIsEnumerable","React","RcCascader","arrayTreeFilter","classNames","omit","KeyCode","LoadingO","DownO","CloseCircleF","RightO","Input","highlightKeyword","str","keyword","prefixCls","split","map","node","index","defaultFilterOption","inputValue","path","some","option","label","defaultRenderFilteredOption","defaultSortFilteredOption","a","b","callback","elem","findIndex","defaultDisplayRender","join","Cascader","props","handleChange","value","selectedOptions","setState","__IS_FILTERED_OPTION","unwrappedValue","unwrappedSelectedOptions","setValue","handlePopupVisibleChange","popupVisible","inputFocused","state","onPopupVisibleChange","handleInputBlur","handleInputClick","stopPropagation","nativeEvent","stopImmediatePropagation","handleKeyDown","keyCode","BACKSPACE","handleInputChange","target","onChange","clearSelection","preventDefault","defaultValue","flattenOptions","showSearch","flattenTree","options","changeOnSelect","nextProps","displayRender","Array","isArray","o","level","ancestor","forEach","concat","children","push","notFoundContent","filter","render","sort","filtered","disabled","inputPrefixCls","placeholder","size","className","style","allowClear","otherProps","sizeCls","clearIcon","arrowCls","pickerCls","inputProps","generateFilteredOptions","cachedOptions","dropdownMenuColumnStyle","isNotFound","height","resultListMatchInputWidth","matchInputWidth","refs","input","width","offsetWidth","getLabel","undefined","Component","defaultProps","transitionName","popupPlacement"],"mappings":"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","sourcesContent":["var __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport React from 'react';\nimport RcCascader from 'rc-cascader';\nimport arrayTreeFilter from 'array-tree-filter';\nimport classNames from 'classnames';\nimport omit from 'omit.js';\nimport KeyCode from 'rc-util/lib/KeyCode';\nimport LoadingO from '@wind/icons/lib/icons/LoadingO';\nimport DownO from '@wind/icons/lib/icons/DownO';\nimport CloseCircleF from '@wind/icons/lib/icons/CloseCircleF';\nimport RightO from '@wind/icons/lib/icons/RightO';\nimport Input from '../input';\nfunction highlightKeyword(str, keyword, prefixCls) {\n    return str.split(keyword)\n        .map((node, index) => index === 0 ? node : [\n        <span className={`${prefixCls}-menu-item-keyword`} key=\"seperator\">{keyword}</span>,\n        node,\n    ]);\n}\nfunction defaultFilterOption(inputValue, path) {\n    return path.some(option => option.label.indexOf(inputValue) > -1);\n}\nfunction defaultRenderFilteredOption(inputValue, path, prefixCls) {\n    return path.map(({ label }, index) => {\n        const node = label.indexOf(inputValue) > -1 ? highlightKeyword(label, inputValue, prefixCls) : label;\n        return index === 0 ? node : [' / ', node];\n    });\n}\nfunction defaultSortFilteredOption(a, b, inputValue) {\n    function callback(elem) {\n        return elem.label.indexOf(inputValue) > -1;\n    }\n    return a.findIndex(callback) - b.findIndex(callback);\n}\nconst defaultDisplayRender = label => label.join(' / ');\nexport default class Cascader extends React.Component {\n    constructor(props) {\n        super(props);\n        this.handleChange = (value, selectedOptions) => {\n            this.setState({ inputValue: '' });\n            if (selectedOptions[0].__IS_FILTERED_OPTION) {\n                const unwrappedValue = value[0];\n                const unwrappedSelectedOptions = selectedOptions[0].path;\n                this.setValue(unwrappedValue, unwrappedSelectedOptions);\n                return;\n            }\n            this.setValue(value, selectedOptions);\n        };\n        this.handlePopupVisibleChange = (popupVisible) => {\n            this.setState({\n                popupVisible,\n                inputFocused: popupVisible,\n                inputValue: popupVisible ? this.state.inputValue : '',\n            });\n            const onPopupVisibleChange = this.props.onPopupVisibleChange;\n            if (onPopupVisibleChange) {\n                onPopupVisibleChange(popupVisible);\n            }\n        };\n        this.handleInputBlur = () => {\n            this.setState({\n                inputFocused: false,\n            });\n        };\n        this.handleInputClick = (e) => {\n            const { inputFocused, popupVisible } = this.state;\n            // Prevent `Trigger` behaviour.\n            if (inputFocused || popupVisible) {\n                e.stopPropagation();\n                e.nativeEvent.stopImmediatePropagation();\n            }\n        };\n        this.handleKeyDown = (e) => {\n            if (e.keyCode === KeyCode.BACKSPACE) {\n                e.stopPropagation();\n            }\n        };\n        this.handleInputChange = (e) => {\n            const inputValue = e.target.value;\n            this.setState({ inputValue });\n        };\n        this.setValue = (value, selectedOptions = []) => {\n            if (!('value' in this.props)) {\n                this.setState({ value });\n            }\n            const onChange = this.props.onChange;\n            if (onChange) {\n                onChange(value, selectedOptions);\n            }\n        };\n        this.clearSelection = (e) => {\n            e.preventDefault();\n            e.stopPropagation();\n            if (!this.state.inputValue) {\n                this.setValue([]);\n                this.setState({ popupVisible: false });\n            }\n            else {\n                this.setState({ inputValue: '' });\n            }\n        };\n        this.state = {\n            value: props.value || props.defaultValue || [],\n            inputValue: '',\n            inputFocused: false,\n            popupVisible: false,\n            flattenOptions: props.showSearch && this.flattenTree(props.options, props.changeOnSelect),\n        };\n    }\n    componentWillReceiveProps(nextProps) {\n        if ('value' in nextProps) {\n            this.setState({ value: nextProps.value || [] });\n        }\n        if (nextProps.showSearch && this.props.options !== nextProps.options) {\n            this.setState({ flattenOptions: this.flattenTree(nextProps.options, nextProps.changeOnSelect) });\n        }\n    }\n    getLabel() {\n        const { options, displayRender = defaultDisplayRender } = this.props;\n        const value = this.state.value;\n        const unwrappedValue = Array.isArray(value[0]) ? value[0] : value;\n        const selectedOptions = arrayTreeFilter(options, (o, level) => o.value === unwrappedValue[level]);\n        const label = selectedOptions.map(o => o.label);\n        return displayRender(label, selectedOptions);\n    }\n    flattenTree(options, changeOnSelect, ancestor = []) {\n        let flattenOptions = [];\n        options.forEach((option) => {\n            const path = ancestor.concat(option);\n            if (changeOnSelect || !option.children) {\n                flattenOptions.push(path);\n            }\n            if (option.children) {\n                flattenOptions = flattenOptions.concat(this.flattenTree(option.children, changeOnSelect, path));\n            }\n        });\n        return flattenOptions;\n    }\n    generateFilteredOptions(prefixCls) {\n        const { showSearch, notFoundContent } = this.props;\n        const { filter = defaultFilterOption, render = defaultRenderFilteredOption, sort = defaultSortFilteredOption, } = showSearch;\n        const { flattenOptions, inputValue } = this.state;\n        const filtered = flattenOptions.filter((path) => filter(this.state.inputValue, path))\n            .sort((a, b) => sort(a, b, inputValue));\n        if (filtered.length > 0) {\n            return filtered.map((path) => {\n                return {\n                    __IS_FILTERED_OPTION: true,\n                    path,\n                    label: render(inputValue, path, prefixCls),\n                    value: path.map(o => o.value),\n                    disabled: path.some(o => o.disabled),\n                };\n            });\n        }\n        return [{ label: notFoundContent, value: 'ANT_CASCADER_NOT_FOUND', disabled: true }];\n    }\n    render() {\n        const { props, state } = this;\n        const { prefixCls, inputPrefixCls, children, placeholder, size, disabled, className, style, allowClear, showSearch = false } = props, otherProps = __rest(props, [\"prefixCls\", \"inputPrefixCls\", \"children\", \"placeholder\", \"size\", \"disabled\", \"className\", \"style\", \"allowClear\", \"showSearch\"]);\n        const value = state.value;\n        const sizeCls = classNames({\n            [`${inputPrefixCls}-lg`]: size === 'large',\n            [`${inputPrefixCls}-sm`]: size === 'small',\n        });\n        const clearIcon = (allowClear && !disabled && value.length > 0) || state.inputValue ? (<CloseCircleF className={`${prefixCls}-picker-clear`} onClick={this.clearSelection}/>) : null;\n        const arrowCls = classNames({\n            [`${prefixCls}-picker-arrow`]: true,\n            [`${prefixCls}-picker-arrow-expand`]: state.popupVisible,\n        });\n        const pickerCls = classNames(className, {\n            [`${prefixCls}-picker`]: true,\n            [`${prefixCls}-picker-with-value`]: state.inputValue,\n            [`${prefixCls}-picker-disabled`]: disabled,\n            [`${prefixCls}-picker-${size}`]: size && size !== 'default',\n        });\n        // Fix bug of https://github.com/facebook/react/pull/5004\n        // and https://fb.me/react-unknown-prop\n        const inputProps = omit(otherProps, [\n            'onChange',\n            'options',\n            'popupPlacement',\n            'transitionName',\n            'displayRender',\n            'onPopupVisibleChange',\n            'changeOnSelect',\n            'expandTrigger',\n            'popupVisible',\n            'getPopupContainer',\n            'loadData',\n            'popupClassName',\n            'filterOption',\n            'renderFilteredOption',\n            'sortFilteredOption',\n            'notFoundContent',\n        ]);\n        let options = props.options;\n        if (state.inputValue) {\n            options = this.generateFilteredOptions(prefixCls);\n        }\n        // Dropdown menu should keep previous status until it is fully closed.\n        if (!state.popupVisible) {\n            options = this.cachedOptions;\n        }\n        else {\n            this.cachedOptions = options;\n        }\n        const dropdownMenuColumnStyle = {};\n        const isNotFound = (options || []).length === 1 && options[0].value === 'ANT_CASCADER_NOT_FOUND';\n        if (isNotFound) {\n            dropdownMenuColumnStyle.height = 'auto'; // Height of one row.\n        }\n        // The default value of `matchInputWidth` is `true`\n        const resultListMatchInputWidth = showSearch.matchInputWidth === false ? false : true;\n        if (resultListMatchInputWidth && state.inputValue && this.refs.input) {\n            dropdownMenuColumnStyle.width = this.refs.input.refs.input.offsetWidth;\n        }\n        const input = children || (<span style={style} className={pickerCls}>\n        <span className={`${prefixCls}-picker-label`}>\n          {this.getLabel()}\n        </span>\n        <Input {...inputProps} ref=\"input\" placeholder={value && value.length > 0 ? undefined : placeholder} className={`${prefixCls}-input ${sizeCls}`} value={state.inputValue} disabled={disabled} readOnly={!showSearch} autoComplete=\"off\" onClick={showSearch ? this.handleInputClick : undefined} onBlur={showSearch ? this.handleInputBlur : undefined} onKeyDown={this.handleKeyDown} onChange={showSearch ? this.handleInputChange : undefined}/>\n        {clearIcon}\n        <DownO className={arrowCls}/>\n      </span>);\n        return (<RcCascader expandIcon={<RightO />} loadingIcon={<span className={`${prefixCls}-menu-item-loading-icon`}><LoadingO /></span>} {...props} options={options} value={value} popupVisible={state.popupVisible} onPopupVisibleChange={this.handlePopupVisibleChange} onChange={this.handleChange} dropdownMenuColumnStyle={dropdownMenuColumnStyle}>\n        {input}\n      </RcCascader>);\n    }\n}\nCascader.defaultProps = {\n    prefixCls: 'w-cascader',\n    inputPrefixCls: 'w-input',\n    placeholder: 'Please select',\n    transitionName: 'slide-up',\n    popupPlacement: 'bottomLeft',\n    options: [],\n    disabled: false,\n    allowClear: true,\n    notFoundContent: 'Not Found',\n};\n"],"file":"index.js"}