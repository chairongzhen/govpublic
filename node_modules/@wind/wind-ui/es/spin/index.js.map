{"version":3,"sources":["spin/index.jsx"],"names":["__rest","s","e","t","p","Object","prototype","hasOwnProperty","call","indexOf","getOwnPropertySymbols","i","length","propertyIsEnumerable","React","PropTypes","classNames","Animate","isCssAnimationSupported","omit","Spin","props","spinning","state","children","setState","notCssAnimationSupported","debounceTimeout","clearTimeout","delayTimeout","nextProps","currentSpinning","delay","window","setTimeout","isNaN","Number","_a","className","size","prefixCls","tip","wrapperClassName","restProps","spinClassName","divProps","spinElement","isNestedPattern","animateClassName","containerClassName","Component","defaultProps","propTypes","string","bool","oneOf"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;AAAA,IAAIA,MAAM,GAAI,QAAQ,KAAKA,MAAd,IAAyB,UAAUC,CAAV,EAAaC,CAAb,EAAgB;AAClD,MAAIC,CAAC,GAAG,EAAR;;AACA,OAAK,IAAIC,CAAT,IAAcH,CAAd;AAAiB,QAAII,MAAM,CAACC,SAAP,CAAiBC,cAAjB,CAAgCC,IAAhC,CAAqCP,CAArC,EAAwCG,CAAxC,KAA8CF,CAAC,CAACO,OAAF,CAAUL,CAAV,IAAe,CAAjE,EACbD,CAAC,CAACC,CAAD,CAAD,GAAOH,CAAC,CAACG,CAAD,CAAR;AADJ;;AAEA,MAAIH,CAAC,IAAI,IAAL,IAAa,OAAOI,MAAM,CAACK,qBAAd,KAAwC,UAAzD,EACI,KAAK,IAAIC,CAAC,GAAG,CAAR,EAAWP,CAAC,GAAGC,MAAM,CAACK,qBAAP,CAA6BT,CAA7B,CAApB,EAAqDU,CAAC,GAAGP,CAAC,CAACQ,MAA3D,EAAmED,CAAC,EAApE,EAAwE;AACpE,QAAIT,CAAC,CAACO,OAAF,CAAUL,CAAC,CAACO,CAAD,CAAX,IAAkB,CAAlB,IAAuBN,MAAM,CAACC,SAAP,CAAiBO,oBAAjB,CAAsCL,IAAtC,CAA2CP,CAA3C,EAA8CG,CAAC,CAACO,CAAD,CAA/C,CAA3B,EACIR,CAAC,CAACC,CAAC,CAACO,CAAD,CAAF,CAAD,GAAUV,CAAC,CAACG,CAAC,CAACO,CAAD,CAAF,CAAX;AACP;AACL,SAAOR,CAAP;AACH,CAVD;;AAWA,OAAOW,KAAP,MAAkB,OAAlB;AACA,OAAOC,SAAP,MAAsB,YAAtB;AACA,OAAOC,UAAP,MAAuB,YAAvB;AACA,OAAOC,OAAP,MAAoB,YAApB;AACA,OAAOC,uBAAP,MAAoC,kCAApC;AACA,OAAOC,IAAP,MAAiB,SAAjB;;IACqBC,I;;;;;AACjB,gBAAYC,KAAZ,EAAmB;AAAA;;AAAA;;AACf,8BAAMA,KAAN;AACA,QAAMC,QAAQ,GAAGD,KAAK,CAACC,QAAvB;AACA,UAAKC,KAAL,GAAa;AACTD,MAAAA,QAAQ,EAARA;AADS,KAAb;AAHe;AAMlB;;;;sCACiB;AACd,aAAO,CAAC,EAAE,KAAKD,KAAL,IAAc,KAAKA,KAAL,CAAWG,QAA3B,CAAR;AACH;;;wCACmB;AAChB,UAAI,CAACN,uBAAuB,EAA5B,EAAgC;AAC5B;AACA,aAAKO,QAAL,CAAc;AACVC,UAAAA,wBAAwB,EAAE;AADhB,SAAd;AAGH;AACJ;;;2CACsB;AACnB,UAAI,KAAKC,eAAT,EAA0B;AACtBC,QAAAA,YAAY,CAAC,KAAKD,eAAN,CAAZ;AACH;;AACD,UAAI,KAAKE,YAAT,EAAuB;AACnBD,QAAAA,YAAY,CAAC,KAAKC,YAAN,CAAZ;AACH;AACJ;;;8CACyBC,S,EAAW;AAAA;;AACjC,UAAMC,eAAe,GAAG,KAAKV,KAAL,CAAWC,QAAnC;AACA,UAAMA,QAAQ,GAAGQ,SAAS,CAACR,QAA3B;AAFiC,UAGzBU,KAHyB,GAGf,KAAKX,KAHU,CAGzBW,KAHyB;;AAIjC,UAAI,KAAKL,eAAT,EAA0B;AACtBC,QAAAA,YAAY,CAAC,KAAKD,eAAN,CAAZ;AACH;;AACD,UAAII,eAAe,IAAI,CAACT,QAAxB,EAAkC;AAC9B,aAAKK,eAAL,GAAuBM,MAAM,CAACC,UAAP,CAAkB;AAAA,iBAAM,MAAI,CAACT,QAAL,CAAc;AAAEH,YAAAA,QAAQ,EAARA;AAAF,WAAd,CAAN;AAAA,SAAlB,EAAqD,GAArD,CAAvB;;AACA,YAAI,KAAKO,YAAT,EAAuB;AACnBD,UAAAA,YAAY,CAAC,KAAKC,YAAN,CAAZ;AACH;AACJ,OALD,MAMK;AACD,YAAIP,QAAQ,IAAIU,KAAZ,IAAqB,CAACG,KAAK,CAACC,MAAM,CAACJ,KAAD,CAAP,CAA/B,EAAgD;AAC5C,cAAI,KAAKH,YAAT,EAAuB;AACnBD,YAAAA,YAAY,CAAC,KAAKC,YAAN,CAAZ;AACH;;AACD,eAAKA,YAAL,GAAoBI,MAAM,CAACC,UAAP,CAAkB;AAAA,mBAAM,MAAI,CAACT,QAAL,CAAc;AAAEH,cAAAA,QAAQ,EAARA;AAAF,aAAd,CAAN;AAAA,WAAlB,EAAqDU,KAArD,CAApB;AACH,SALD,MAMK;AACD,eAAKP,QAAL,CAAc;AAAEH,YAAAA,QAAQ,EAARA;AAAF,WAAd;AACH;AACJ;AACJ;;;6BACQ;AAAA;;AACC,UAAAe,EAAE,GAAG,KAAKhB,KAAV;AAAA,UAAmBiB,SAAnB,GAAyED,EAAzE,CAAmBC,SAAnB;AAAA,UAA8BC,IAA9B,GAAyEF,EAAzE,CAA8BE,IAA9B;AAAA,UAAoCC,SAApC,GAAyEH,EAAzE,CAAoCG,SAApC;AAAA,UAA+CC,GAA/C,GAAyEJ,EAAzE,CAA+CI,GAA/C;AAAA,UAAoDC,gBAApD,GAAyEL,EAAzE,CAAoDK,gBAApD;AAAA,UAA6EC,SAA7E,GAAyF3C,MAAM,CAACqC,EAAD,EAAK,CAAC,WAAD,EAAc,MAAd,EAAsB,WAAtB,EAAmC,KAAnC,EAA0C,kBAA1C,CAAL,CAA/F;;AADD,wBAE0C,KAAKd,KAF/C;AAAA,UAEGD,QAFH,eAEGA,QAFH;AAAA,UAEaI,wBAFb,eAEaA,wBAFb;AAGL,UAAMkB,aAAa,GAAG5B,UAAU,CAACwB,SAAD,4DACxBA,SADwB,UACPD,IAAI,KAAK,OADF,0CAExBC,SAFwB,UAEPD,IAAI,KAAK,OAFF,0CAGxBC,SAHwB,gBAGDlB,QAHC,0CAIxBkB,SAJwB,iBAIA,CAAC,CAACC,GAAF,IAASf,wBAJT,iBAK7BY,SAL6B,CAAhC,CAHK,CASL;;AACA,UAAMO,QAAQ,GAAG1B,IAAI,CAACwB,SAAD,EAAY,CAC7B,UAD6B,EAE7B,OAF6B,CAAZ,CAArB;AAIA,UAAMG,WAAW,gBAAI,wCAASD,QAAT;AAAmB,QAAA,SAAS,EAAED;AAA9B,uBACrB;AAAM,QAAA,SAAS,YAAKJ,SAAL;AAAf,sBACE,8BADF,eAEE,8BAFF,eAGE,8BAHF,eAIE,8BAJF,CADqB,EAOpBC,GAAG,gBAAG;AAAK,QAAA,SAAS,YAAKD,SAAL;AAAd,SAAsCC,GAAtC,CAAH,GAAsD,IAPrC,CAArB;;AASA,UAAI,KAAKM,eAAL,EAAJ,EAA4B;AAAA;;AACxB,YAAIC,gBAAgB,GAAGR,SAAS,GAAG,iBAAnC;;AACA,YAAIE,gBAAJ,EAAsB;AAClBM,UAAAA,gBAAgB,IAAI,MAAMN,gBAA1B;AACH;;AACD,YAAMO,kBAAkB,GAAGjC,UAAU,6DAC7BwB,SAD6B,iBACL,IADK,2CAE7BA,SAF6B,YAEVlB,QAFU,iBAArC;AAIA,4BAAQ,oBAAC,OAAD,eAAauB,QAAb;AAAuB,UAAA,SAAS,EAAC,KAAjC;AAAuC,UAAA,SAAS,EAAEG,gBAAlD;AAAoE,UAAA,KAAK,EAAE,IAA3E;AAAiF,UAAA,cAAc,EAAC;AAAhG,YACT1B,QAAQ,iBAAI;AAAK,UAAA,GAAG,EAAC;AAAT,WAAoBwB,WAApB,CADH,eAEV;AAAK,UAAA,SAAS,EAAEG,kBAAhB;AAAoC,UAAA,GAAG,EAAC;AAAxC,WACG,KAAK5B,KAAL,CAAWG,QADd,CAFU,CAAR;AAMH;;AACD,aAAOsB,WAAP;AACH;;;;EA5F6BhC,KAAK,CAACoC,S;;SAAnB9B,I;AA8FrBA,IAAI,CAAC+B,YAAL,GAAoB;AAChBX,EAAAA,SAAS,EAAE,QADK;AAEhBlB,EAAAA,QAAQ,EAAE,IAFM;AAGhBiB,EAAAA,IAAI,EAAE,SAHU;AAIhBG,EAAAA,gBAAgB,EAAE;AAJF,CAApB;AAMAtB,IAAI,CAACgC,SAAL,GAAiB;AACbZ,EAAAA,SAAS,EAAEzB,SAAS,CAACsC,MADR;AAEbf,EAAAA,SAAS,EAAEvB,SAAS,CAACsC,MAFR;AAGb/B,EAAAA,QAAQ,EAAEP,SAAS,CAACuC,IAHP;AAIbf,EAAAA,IAAI,EAAExB,SAAS,CAACwC,KAAV,CAAgB,CAAC,OAAD,EAAU,SAAV,EAAqB,OAArB,CAAhB,CAJO;AAKbb,EAAAA,gBAAgB,EAAE3B,SAAS,CAACsC;AALf,CAAjB","sourcesContent":["var __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport Animate from 'rc-animate';\nimport isCssAnimationSupported from '../_util/isCssAnimationSupported';\nimport omit from 'omit.js';\nexport default class Spin extends React.Component {\n    constructor(props) {\n        super(props);\n        const spinning = props.spinning;\n        this.state = {\n            spinning,\n        };\n    }\n    isNestedPattern() {\n        return !!(this.props && this.props.children);\n    }\n    componentDidMount() {\n        if (!isCssAnimationSupported()) {\n            // Show text in IE8/9\n            this.setState({\n                notCssAnimationSupported: true,\n            });\n        }\n    }\n    componentWillUnmount() {\n        if (this.debounceTimeout) {\n            clearTimeout(this.debounceTimeout);\n        }\n        if (this.delayTimeout) {\n            clearTimeout(this.delayTimeout);\n        }\n    }\n    componentWillReceiveProps(nextProps) {\n        const currentSpinning = this.props.spinning;\n        const spinning = nextProps.spinning;\n        const { delay } = this.props;\n        if (this.debounceTimeout) {\n            clearTimeout(this.debounceTimeout);\n        }\n        if (currentSpinning && !spinning) {\n            this.debounceTimeout = window.setTimeout(() => this.setState({ spinning }), 200);\n            if (this.delayTimeout) {\n                clearTimeout(this.delayTimeout);\n            }\n        }\n        else {\n            if (spinning && delay && !isNaN(Number(delay))) {\n                if (this.delayTimeout) {\n                    clearTimeout(this.delayTimeout);\n                }\n                this.delayTimeout = window.setTimeout(() => this.setState({ spinning }), delay);\n            }\n            else {\n                this.setState({ spinning });\n            }\n        }\n    }\n    render() {\n        const _a = this.props, { className, size, prefixCls, tip, wrapperClassName } = _a, restProps = __rest(_a, [\"className\", \"size\", \"prefixCls\", \"tip\", \"wrapperClassName\"]);\n        const { spinning, notCssAnimationSupported } = this.state;\n        const spinClassName = classNames(prefixCls, {\n            [`${prefixCls}-sm`]: size === 'small',\n            [`${prefixCls}-lg`]: size === 'large',\n            [`${prefixCls}-spinning`]: spinning,\n            [`${prefixCls}-show-text`]: !!tip || notCssAnimationSupported,\n        }, className);\n        // fix https://fb.me/react-unknown-prop\n        const divProps = omit(restProps, [\n            'spinning',\n            'delay',\n        ]);\n        const spinElement = (<div {...divProps} className={spinClassName}>\n        <span className={`${prefixCls}-dot`}>\n          <i />\n          <i />\n          <i />\n          <i />\n        </span>\n        {tip ? <div className={`${prefixCls}-text`}>{tip}</div> : null}\n      </div>);\n        if (this.isNestedPattern()) {\n            let animateClassName = prefixCls + '-nested-loading';\n            if (wrapperClassName) {\n                animateClassName += ' ' + wrapperClassName;\n            }\n            const containerClassName = classNames({\n                [`${prefixCls}-container`]: true,\n                [`${prefixCls}-blur`]: spinning,\n            });\n            return (<Animate {...divProps} component=\"div\" className={animateClassName} style={null} transitionName=\"fade\">\n          {spinning && <div key=\"loading\">{spinElement}</div>}\n          <div className={containerClassName} key=\"container\">\n            {this.props.children}\n          </div>\n        </Animate>);\n        }\n        return spinElement;\n    }\n}\nSpin.defaultProps = {\n    prefixCls: 'w-spin',\n    spinning: true,\n    size: 'default',\n    wrapperClassName: '',\n};\nSpin.propTypes = {\n    prefixCls: PropTypes.string,\n    className: PropTypes.string,\n    spinning: PropTypes.bool,\n    size: PropTypes.oneOf(['small', 'default', 'large']),\n    wrapperClassName: PropTypes.string,\n};\n"],"file":"index.js"}