{"version":3,"sources":["upload/utils.jsx"],"names":["T","fileToObject","file","lastModified","lastModifiedDate","name","filename","size","type","uid","response","error","percent","originFileObj","status","genPercentAdd","k","i","end","s","start","getFileItem","fileList","matchKey","undefined","filter","item","removeFileItem","removed","length"],"mappings":"AAAA,OAAO,SAASA,CAAT,GAAa;AAChB,SAAO,IAAP;AACH,C,CACD;AACA;;AACA,OAAO,SAASC,YAAT,CAAsBC,IAAtB,EAA4B;AAC/B,SAAO;AACHC,IAAAA,YAAY,EAAED,IAAI,CAACC,YADhB;AAEHC,IAAAA,gBAAgB,EAAEF,IAAI,CAACE,gBAFpB;AAGHC,IAAAA,IAAI,EAAEH,IAAI,CAACI,QAAL,IAAiBJ,IAAI,CAACG,IAHzB;AAIHE,IAAAA,IAAI,EAAEL,IAAI,CAACK,IAJR;AAKHC,IAAAA,IAAI,EAAEN,IAAI,CAACM,IALR;AAMHC,IAAAA,GAAG,EAAEP,IAAI,CAACO,GANP;AAOHC,IAAAA,QAAQ,EAAER,IAAI,CAACQ,QAPZ;AAQHC,IAAAA,KAAK,EAAET,IAAI,CAACS,KART;AASHC,IAAAA,OAAO,EAAE,CATN;AAUHC,IAAAA,aAAa,EAAEX,IAVZ;AAWHY,IAAAA,MAAM,EAAE;AAXL,GAAP;AAaH;AACD;AACA;AACA;AACA;;AACA,OAAO,SAASC,aAAT,GAAyB;AAC5B,MAAIC,CAAC,GAAG,GAAR;AACA,MAAMC,CAAC,GAAG,IAAV;AACA,MAAMC,GAAG,GAAG,IAAZ;AACA,SAAO,UAAUC,CAAV,EAAa;AAChB,QAAIC,KAAK,GAAGD,CAAZ;;AACA,QAAIC,KAAK,IAAIF,GAAb,EAAkB;AACd,aAAOE,KAAP;AACH;;AACDA,IAAAA,KAAK,IAAIJ,CAAT;AACAA,IAAAA,CAAC,GAAGA,CAAC,GAAGC,CAAR;;AACA,QAAID,CAAC,GAAG,KAAR,EAAe;AACXA,MAAAA,CAAC,GAAG,KAAJ;AACH;;AACD,WAAOI,KAAK,GAAG,GAAf;AACH,GAXD;AAYH;AACD,OAAO,SAASC,WAAT,CAAqBnB,IAArB,EAA2BoB,QAA3B,EAAqC;AACxC,MAAMC,QAAQ,GAAGrB,IAAI,CAACO,GAAL,KAAae,SAAb,GAAyB,KAAzB,GAAiC,MAAlD;AACA,SAAOF,QAAQ,CAACG,MAAT,CAAgB,UAACC,IAAD;AAAA,WAAUA,IAAI,CAACH,QAAD,CAAJ,KAAmBrB,IAAI,CAACqB,QAAD,CAAjC;AAAA,GAAhB,EAA6D,CAA7D,CAAP;AACH;AACD,OAAO,SAASI,cAAT,CAAwBzB,IAAxB,EAA8BoB,QAA9B,EAAwC;AAC3C,MAAMC,QAAQ,GAAGrB,IAAI,CAACO,GAAL,KAAae,SAAb,GAAyB,KAAzB,GAAiC,MAAlD;AACA,MAAMI,OAAO,GAAGN,QAAQ,CAACG,MAAT,CAAgB,UAACC,IAAD;AAAA,WAAUA,IAAI,CAACH,QAAD,CAAJ,KAAmBrB,IAAI,CAACqB,QAAD,CAAjC;AAAA,GAAhB,CAAhB;;AACA,MAAIK,OAAO,CAACC,MAAR,KAAmBP,QAAQ,CAACO,MAAhC,EAAwC;AACpC,WAAO,IAAP;AACH;;AACD,SAAOD,OAAP;AACH","sourcesContent":["export function T() {\n    return true;\n}\n// Fix IE file.status problem\n// via coping a new Object\nexport function fileToObject(file) {\n    return {\n        lastModified: file.lastModified,\n        lastModifiedDate: file.lastModifiedDate,\n        name: file.filename || file.name,\n        size: file.size,\n        type: file.type,\n        uid: file.uid,\n        response: file.response,\n        error: file.error,\n        percent: 0,\n        originFileObj: file,\n        status: null,\n    };\n}\n/**\n * 生成Progress percent: 0.1 -> 0.98\n *   - for ie\n */\nexport function genPercentAdd() {\n    let k = 0.1;\n    const i = 0.01;\n    const end = 0.98;\n    return function (s) {\n        let start = s;\n        if (start >= end) {\n            return start;\n        }\n        start += k;\n        k = k - i;\n        if (k < 0.001) {\n            k = 0.001;\n        }\n        return start * 100;\n    };\n}\nexport function getFileItem(file, fileList) {\n    const matchKey = file.uid !== undefined ? 'uid' : 'name';\n    return fileList.filter((item) => item[matchKey] === file[matchKey])[0];\n}\nexport function removeFileItem(file, fileList) {\n    const matchKey = file.uid !== undefined ? 'uid' : 'name';\n    const removed = fileList.filter((item) => item[matchKey] !== file[matchKey]);\n    if (removed.length === fileList.length) {\n        return null;\n    }\n    return removed;\n}\n"],"file":"utils.js"}