{"version":3,"sources":["input/Input.jsx"],"names":["React","Component","cloneElement","PropTypes","classNames","omit","TextArea","fixControlledValue","value","Input","props","handleKeyDown","e","onPressEnter","onKeyDown","keyCode","handleInputFocus","onFocus","setState","isFocus","handleInputBlur","onBlur","state","refs","input","focus","blur","prefixCls","size","disabled","theme","children","addonBefore","addonAfter","sz","wrapperClassName","addonClassName","className","style","prefix","suffix","getInputClassName","otherProps","defaultValue","renderLabeledIcon","type","renderLabeledInput","renderInput","defaultProps","propTypes","string","id","oneOfType","number","oneOf","bool","any","node","autosize","object","func"],"mappings":"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","sourcesContent":["import React, { Component, cloneElement } from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport omit from 'omit.js';\nimport TextArea from './TextArea';\nfunction fixControlledValue(value) {\n    if (typeof value === 'undefined' || value === null) {\n        return '';\n    }\n    return value;\n}\nexport default class Input extends Component {\n    constructor(props) {\n        super(props);\n        this.handleKeyDown = (e) => {\n            const { onPressEnter, onKeyDown } = this.props;\n            if (e.keyCode === 13 && onPressEnter) {\n                onPressEnter(e);\n            }\n            if (onKeyDown) {\n                onKeyDown(e);\n            }\n        };\n        this.handleInputFocus = (e) => {\n            const { onFocus } = this.props;\n            this.setState({\n                isFocus: true\n            });\n            if (onFocus) {\n                onFocus(e);\n            }\n        };\n        this.handleInputBlur = (e) => {\n            const { onBlur } = this.props;\n            this.setState({\n                isFocus: false\n            });\n            if (onBlur) {\n                onBlur(e);\n            }\n        };\n        this.state = {\n            isFocus: false\n        };\n    }\n    focus() {\n        this.refs.input.focus();\n    }\n    blur() {\n        this.refs.input.blur();\n    }\n    getInputClassName() {\n        const { prefixCls, size, disabled, theme } = this.props;\n        return classNames(prefixCls, {\n            [`${prefixCls}-sm`]: size === 'small',\n            [`${prefixCls}-lg`]: size === 'large',\n            [`${prefixCls}-disabled`]: disabled,\n            [`${prefixCls}-${theme}`]: !!theme,\n        });\n    }\n    renderLabeledInput(children) {\n        const props = this.props;\n        // Not wrap when there is not addons\n        if ((!props.addonBefore && !props.addonAfter)) {\n            return children;\n        }\n        const sz = props.size === 'large' ? 'lg' : (props.size === 'small' ? 'sm' : '');\n        const wrapperClassName = `${props.prefixCls}-group`;\n        const addonClassName = classNames(`${wrapperClassName}-addon`, sz ? `${wrapperClassName}-addon-${sz}` : '');\n        const addonBefore = props.addonBefore ? (<span className={addonClassName}>\n        {props.addonBefore}\n      </span>) : null;\n        const addonAfter = props.addonAfter ? (<span className={addonClassName}>\n        {props.addonAfter}\n      </span>) : null;\n        const { theme } = props;\n        const className = classNames(`${props.prefixCls}-wrapper`, {\n            [wrapperClassName]: (addonBefore || addonAfter),\n            [`${props.prefixCls}-wrapper-${theme}`]: !!theme,\n        });\n        // Need another wrapper for changing display:table to display:inline-block\n        // and put style prop in wrapper\n        if (addonBefore || addonAfter) {\n            return (<span className={`${props.prefixCls}-group-wrapper`} style={props.style}>\n          <span className={className}>\n            {addonBefore}\n            {cloneElement(children, { style: null })}\n            {addonAfter}\n          </span>\n        </span>);\n        }\n        return (<span className={className}>\n        {addonBefore}\n        {children}\n        {addonAfter}\n      </span>);\n    }\n    renderLabeledIcon(children) {\n        const { props } = this;\n        const { isFocus } = this.state;\n        if (!('prefix' in props || 'suffix' in props)) {\n            return children;\n        }\n        const prefix = props.prefix ? (<span className={`${props.prefixCls}-prefix`}>\n        {props.prefix}\n      </span>) : null;\n        const suffix = props.suffix ? (<span className={`${props.prefixCls}-suffix`}>\n        {props.suffix}\n      </span>) : null;\n        const sz = props.size === 'large' ? 'lg' : (props.size === 'small' ? 'sm' : '');\n        const { theme, disabled } = props;\n        return (<span className={classNames(props.className, `${props.prefixCls}-affix-wrapper`, {\n            [`${props.prefixCls}-affix-wrapper-focused`]: isFocus,\n            [`${props.prefixCls}-affix-wrapper-${sz}`]: !!sz,\n            [`${props.prefixCls}-affix-wrapper-${theme}`]: !!theme,\n            [`${props.prefixCls}-affix-wrapper-disabled`]: disabled,\n        })} style={props.style}>\n        {prefix}\n        {cloneElement(children, {\n            style: null,\n            className: this.getInputClassName(),\n            onFocus: this.handleInputFocus,\n            onBlur: this.handleInputBlur,\n        })}\n        {suffix}\n      </span>);\n    }\n    renderInput() {\n        const { value, className } = this.props;\n        // Fix https://fb.me/react-unknown-prop\n        const otherProps = omit(this.props, [\n            'prefixCls',\n            'onPressEnter',\n            'addonBefore',\n            'addonAfter',\n            'prefix',\n            'suffix',\n            'theme'\n        ]);\n        if ('value' in this.props) {\n            otherProps.value = fixControlledValue(value);\n            // Input elements must be either controlled or uncontrolled,\n            // specify either the value prop, or the defaultValue prop, but not both.\n            delete otherProps.defaultValue;\n        }\n        return this.renderLabeledIcon(<input {...otherProps} className={classNames(this.getInputClassName(), className)} onKeyDown={this.handleKeyDown} ref=\"input\"/>);\n    }\n    render() {\n        if (this.props.type === 'textarea') {\n            return <TextArea {...this.props} ref=\"input\"/>;\n        }\n        return this.renderLabeledInput(this.renderInput());\n    }\n}\nInput.defaultProps = {\n    prefixCls: 'w-input',\n    type: 'text',\n    disabled: false,\n};\nInput.propTypes = {\n    type: PropTypes.string,\n    id: PropTypes.oneOfType([\n        PropTypes.string,\n        PropTypes.number,\n    ]),\n    size: PropTypes.oneOf(['small', 'default', 'large']),\n    theme: PropTypes.oneOf(['light', 'dark']),\n    disabled: PropTypes.bool,\n    value: PropTypes.any,\n    defaultValue: PropTypes.any,\n    className: PropTypes.string,\n    addonBefore: PropTypes.node,\n    addonAfter: PropTypes.node,\n    prefixCls: PropTypes.string,\n    autosize: PropTypes.oneOfType([PropTypes.bool, PropTypes.object]),\n    onPressEnter: PropTypes.func,\n    onKeyDown: PropTypes.func,\n    onFocus: PropTypes.func,\n    onBlur: PropTypes.func,\n    prefix: PropTypes.node,\n    suffix: PropTypes.node,\n};\n"],"file":"Input.js"}